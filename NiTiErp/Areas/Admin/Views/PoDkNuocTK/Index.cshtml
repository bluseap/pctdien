@{ ViewData["Title"] = "Index"; }
@section Styles{
    <link href="~/lib/jQuery-EasyUI/themes/bootstrap/easyui.css" rel="stylesheet" />
    <link href="~/lib/jQuery-EasyUI/themes/icon.css" rel="stylesheet" />
    <link href="~/lib/bootstrap-datepicker/dist/css/bootstrap-datepicker.css" rel="stylesheet" />
}
@section Scripts{

    <script src="~/lib/jQuery-EasyUI/jquery.easyui.min.js" asp-append-version="true"></script>
    <script src="~/lib/bootstrap-datepicker/dist/js/bootstrap-datepicker.js" asp-append-version="true"></script>
    <script src="~/lib/bootstrap-datepicker/dist/locales/bootstrap-datepicker.vi.min.js" charset="UTF-8" asp-append-version="true"></script>

    <script src="~/admin-side/js/jquery.autocomplete.js" asp-append-version="true"></script>

    <script src="~/app/controllers/podknuoctk/themmoivattu.js" asp-append-version="true"></script>
    <script src="~/app/controllers/podknuoctk/bocvattu.js" asp-append-version="true"></script>
    <script src="~/app/controllers/podknuoctk/tuchoithietke.js" asp-append-version="true"></script>
    <script src="~/app/controllers/podknuoctk/duyetthietke.js" asp-append-version="true"></script>
    <script src="~/app/controllers/podknuoctk/nhapthietke.js" asp-append-version="true"></script>
    <script src="~/app/controllers/podknuoctk/index.js" asp-append-version="true"></script>
    <script>
        var podknuoctk = new podknuoctkController();
        podknuoctk.initialize();

        var bocvattu = new bocvattuController();

        function getChangeKhoiLuong(element, event) {
            //GET THE CONTENT as TEXT ONLY, you may use innerHTML as required
            const khoiluong = element.value;
            const madonmavattu = event;
            bocvattu.UpdateKhoiLuongBocVatTu(khoiluong, madonmavattu);
        }

        function getChangeNoiDung(element, event) {
            //GET THE CONTENT as TEXT ONLY, you may use innerHTML as required
            const noidung = element.value;
            const madon = event;
            bocvattu.UpdateDaoLapTKNoiDung(madon, noidung);
        }

        function getChangeDonGiaCP(element, event) {
            //GET THE CONTENT as TEXT ONLY, you may use innerHTML as required
            const dongiacp = element.value;
            const madon = event;
            bocvattu.UpdateDaoLapTKDonGia(madon, dongiacp);
        }

        function getChangeSoLuong(element, event) {
            //GET THE CONTENT as TEXT ONLY, you may use innerHTML as required
            const soluong = element.value;
            const madon = event;
            bocvattu.UpdateDaoLapTKSoLuong(madon, soluong);
        }

        function getChangeddlDonViTinh(element, event) {
            //GET THE CONTENT as TEXT ONLY, you may use innerHTML as required
            const donvitinh = element.value;
            const madon = event;
            bocvattu.UpdateDaoLapTKDonViTinh(madon, donvitinh);
        }

        function getChangeddlLoaiCP(element, event) {
            //GET THE CONTENT as TEXT ONLY, you may use innerHTML as required
            const loaicp = element.value;
            const madon = event;
            bocvattu.UpdateDaoLapTKLoaiChiPhi(madon, loaicp);
        }

    </script>
}

<input type="hidden" id="hidDonDangKyMaddk" value="" />
<input type="hidden" id="hidInsertDonDangKyMaddk" value="" />

<input type="hidden" id="hidNVLapHoSoNhanVienId" value="" />
<input type="hidden" id="hidNhanVienMANV" value="" />

<input type="hidden" id="hidMaVatTuId" value="" />

<input type="hidden" id="hidPhongDanhMucId" value="" />
<input type="hidden" id="hidPhongDanhMucMAPB" value="" />

<div class="">
    <div class="page-title">
        <div class="title_left">
            <small>
                <a class="btn btn-link ">
                    Thiết kế nước
                </a>
                >>
                <a class="btn btn-link ">
                    Nhập Thiết kế nước
                </a>
            </small>
        </div>
        <div class="title_right">
            <div class="col-md-3 col-sm-3 col-xs-12 form-group pull-right top_search">
                <button class="btn btn-round btn-success" id="btn-create" type="button">Nhập thiết kế</button>
            </div>
        </div>
    </div>
    <div class="page-title">
        <div class="title_left">
            <h3>  <small></small></h3>
        </div>
        <div class="title_right">
            <div class="col-md-5 col-sm-5 col-xs-12 form-group pull-right">
                <div class="input-group">
                    <input type="text" id="txtTimNoiDung" class="form-control" placeholder="Mã đơn, tên...">
                    <span class="input-group-btn">
                        <button class="btn btn-tim" id="btnTimNoiDung" type="button">Tìm !</button>
                    </span>
                </div>
            </div>
            <div class="col-md-3 col-sm-3 col-xs-12 form-group pull-right top_search">
                <div class="input-group">
                    <select id="ddlPhongTo" class="form-control"></select>
                </div>
            </div>
            <div class="col-md-3 col-sm-3 col-xs-12 form-group pull-right top_search">
                <div class="input-group">
                    <select id="ddlKhuVuc" class="form-control"></select>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="item form-group">
            <div class="col-md-4 col-sm-12 col-xs-12 pull-right">
                <div class="input-group">
                    <select id="ddlDsDieuKienTim" class="form-control"></select>
                </div>
            </div>
        </div>
        <div class="x_panel">
            <div class="table-responsive" id="table-responsiveDONDANGKY">
                <table id="tblDONDANGKY" class="table table-striped jambo_table bulk_action" cellspacing="0">
                    <thead>
                        <tr>
                            @*<th width="=10%">#</th>*@
                            <th>Maddk</th>
                            <th>Tên khách hàng</th>
                            <th>Khu vực</th>
                            <th>Nơi lắp</th>
                            <th>Số CCCD / CMND</th>
                            <th>Số điện thoại</th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th>Trạng thái</th>
                        </tr>
                    </thead>
                    <tbody id="tblContentDONDANGKY"></tbody>
                </table>
                <div class="row">
                    <div class="col-sm-5">
                        <div class="dataTables_info" id="datatable-checkbox_infoDONDANGKY" role="status" aria-live="polite">
                            <select id="ddl-show-pageDONDANGKY">
                                <option value="10" selected="selected">10</option>
                                <option value="20">20</option>
                                <option value="30">30</option>
                                <option value="50">50</option>
                            </select>
                            <span class="item-per-page">
                                dòng/trang.
                            </span>
                            Tổng cộng: <strong id="lbDONDANGKYTotalRecords"></strong>
                        </div>
                    </div>
                    <div class="col-sm-7">
                        <div class="dataTables_paginate" id="datatable-checkbox_paginateDONDANGKY">
                            <ul id="paginationULDONDANGKY"></ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script id="table-DONDANGKY" type="x-tmpl-mustache">
        <tr>
            <th scope="row">
                <a class="btn-link btn-EditNhapThietKe" data-id="{{MADDK}}" data-toggle="tooltip" data-placement="top" title="Mã đơn">
                    <i >{{MADDK}}</i>
                </a>
            </th>
            <td>{{TENKH}}</td>
            <td>{{TENKV}}</td>
            <td>{{DIACHILD}}</td>
            <td>{{CMND}}</td>
            <td>{{DIENTHOAI}}</td>
            <th scope="row">
                <a class="btn-link btn-BocVatTuTK" data-id="{{MADDK}}" data-toggle="tooltip" data-placement="top" title="Bốc vật tư TK">
                    <i >Bốc V.tư </i>
                </a>
            </th>
            <th scope="row">
                <a class="btn-link btn-TuChoiTK" data-id="{{MADDK}}" data-toggle="tooltip" data-placement="top" title="Từ chối Thiết kế">
                    <i >Từ chối</i>
                </a>
            </th>
            <th scope="row">
                <a class="btn-link btn-DuyetTK" data-id="{{MADDK}}" data-toggle="tooltip" data-placement="top" title="Duyệt Thiết kế">
                    <i >Duyệt T.Kế</i>
                </a>
            </th>
            <th scope="row">
                <a class="btn-link btn-InTK" data-id="{{MADDK}}" data-toggle="tooltip" data-placement="top" title="In Thiết kế">
                    <i >In T.Kế</i>
                </a>
            </th>
            <td>
                <a class="btn-link btn-NhapThietKeTTDonDangKyNuoc" data-id="{{MADDK}}" data-toggle="tooltip" data-placement="top" title="Trạng thái ĐĐK Nước">
                   {{{TTDonDangKyNuoc}}}
                </a>
            </td>
        </tr>
    </script>
</div>

<partial name="_NhapThietKe.cshtml" />
<partial name="_DuyetTK.cshtml" />
<partial name="_TuChoiTK.cshtml" />
<partial name="_BocVatTu.cshtml" />
<partial name="_ThemVatTu.cshtml" />


