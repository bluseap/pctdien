2024-02-16T08:06:23.3769035+07:00 0HN1EHDV3F4PA:00000001 [INF] Request starting HTTP/1.1 DEBUG http://localhost:57431/  0 (ca22a1cb)
2024-02-16T08:06:23.3769035+07:00 0HN1EHDV3F4PB:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:57431/   (ca22a1cb)
2024-02-16T08:06:23.4181513+07:00 0HN1EHDV3F4PA:00000001 [INF] Request finished in 40.8603ms 200  (791a596a)
2024-02-16T08:06:23.5421151+07:00 0HN1EHDV3F4PB:00000001 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:06:23.6346941+07:00 0HN1EHDV3F4PB:00000001 [INF] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2024-02-16T08:06:24.4859343+07:00 0HN1EHDV3F4PB:00000001 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "NiTiErp.Areas.Admin.Controllers.LoginController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:06:24.5241490+07:00 0HN1EHDV3F4PB:00000001 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.LoginController.Index (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:06:24.5338280+07:00 0HN1EHDV3F4PB:00000001 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.LoginController.Index (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.9578ms. (50a9e262)
2024-02-16T08:06:24.6505277+07:00 0HN1EHDV3F4PB:00000001 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2024-02-16T08:06:24.9103456+07:00 0HN1EHDV3F4PB:00000001 [INF] Executed ViewResult - view "Index" executed in 359.0386ms. (f66409e9)
2024-02-16T08:06:24.9153406+07:00 0HN1EHDV3F4PB:00000001 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.LoginController.Index (NiTiErp)" in 424.6101ms (afa2e885)
2024-02-16T08:06:25.5910064+07:00 0HN1EHDV3F4PB:00000001 [INF] Request finished in 2220.5084ms 200 text/html; charset=utf-8 (791a596a)
2024-02-16T08:06:28.5977704+07:00 0HN1EHDV3F4PA:00000002 [INF] Request starting HTTP/1.1 POST http://localhost:57431/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 29 (ca22a1cb)
2024-02-16T08:06:28.6020868+07:00 0HN1EHDV3F4PA:00000002 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:06:28.6102057+07:00 0HN1EHDV3F4PA:00000002 [INF] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2024-02-16T08:06:28.6481930+07:00 0HN1EHDV3F4PA:00000002 [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authen(NiTiErp.Models.AccountViewModels.LoginViewModel)" on controller "NiTiErp.Areas.Admin.Controllers.LoginController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:06:28.7915863+07:00 0HN1EHDV3F4PA:00000002 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.LoginController.Authen (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:06:28.8128266+07:00 0HN1EHDV3F4PA:00000002 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=NiTiErp.Data.EF " (9958f5bb)
2024-02-16T08:06:28.9226193+07:00 0HN1EHDV3F4PA:00000002 [INF] Executed DbCommand ("25"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[CorporationId], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[HoSoNhanVienId], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserCreated], [u].[UserModified], [u].[UserName]
FROM [AppUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2024-02-16T08:06:29.1634521+07:00 0HN1EHDV3F4PA:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AppUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2024-02-16T08:06:29.2228941+07:00 0HN1EHDV3F4PA:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2024-02-16T08:06:29.2517282+07:00 0HN1EHDV3F4PA:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CorporationId], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AppRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2024-02-16T08:06:29.2880274+07:00 0HN1EHDV3F4PA:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AppRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2024-02-16T08:06:29.3024235+07:00 0HN1EHDV3F4PA:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2024-02-16T08:06:29.3169025+07:00 0HN1EHDV3F4PA:00000002 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2024-02-16T08:06:29.3242981+07:00 0HN1EHDV3F4PA:00000002 [INF] User logged in. (fdce0db4)
2024-02-16T08:06:29.4238518+07:00 0HN1EHDV3F4PA:00000002 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.LoginController.Authen (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 629.2292ms. (50a9e262)
2024-02-16T08:06:29.4404122+07:00 0HN1EHDV3F4PA:00000002 [INF] Executing ObjectResult, writing value of type '"NiTiErp.Utilities.Dtos.GenericResult"'. (8a1b66c8)
2024-02-16T08:06:29.5115126+07:00 0HN1EHDV3F4PA:00000002 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.LoginController.Authen (NiTiErp)" in 860.6223ms (afa2e885)
2024-02-16T08:06:29.5373240+07:00 0HN1EHDV3F4PA:00000002 [INF] Request finished in 937.8713ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:06:29.5659586+07:00 0HN1EHDV3F4PB:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/AppUserLogin/CountUserLogin?userNameId=cthoang&statuscontent=InLoginsss   (ca22a1cb)
2024-02-16T08:06:29.5787870+07:00 0HN1EHDV3F4PA:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:57431/Admin/Home/Index   (ca22a1cb)
2024-02-16T08:06:29.5824004+07:00 0HN1EHDV3F4PB:00000002 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:06:29.5884192+07:00 0HN1EHDV3F4PA:00000003 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:06:29.6067690+07:00 0HN1EHDV3F4PA:00000003 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "NiTiErp.Areas.Admin.Controllers.HomeController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:06:29.6094952+07:00 0HN1EHDV3F4PB:00000002 [INF] Route matched with "{area = \"Admin\", action = \"CountUserLogin\", controller = \"AppUserLogin\"}". Executing controller action with signature "Void CountUserLogin(System.String, System.String)" on controller "NiTiErp.Areas.Admin.Controllers.AppUserLoginController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:06:29.6323170+07:00 0HN1EHDV3F4PB:00000002 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:06:29.6336903+07:00 0HN1EHDV3F4PA:00000003 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:06:29.6409654+07:00 0HN1EHDV3F4PA:00000003 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.HomeController.Index (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:06:29.6422835+07:00 0HN1EHDV3F4PB:00000002 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.AppUserLoginController.CountUserLogin (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:06:29.6478929+07:00 0HN1EHDV3F4PA:00000003 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.HomeController.Index (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 3.2564ms. (50a9e262)
2024-02-16T08:06:29.6634774+07:00 0HN1EHDV3F4PB:00000002 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.AppUserLoginController.CountUserLogin (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.EmptyResult" in 8.4788ms. (50a9e262)
2024-02-16T08:06:29.6723865+07:00 0HN1EHDV3F4PB:00000002 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.AppUserLoginController.CountUserLogin (NiTiErp)" in 53.9541ms (afa2e885)
2024-02-16T08:06:29.6822457+07:00 0HN1EHDV3F4PB:00000002 [INF] Request finished in 121.9566ms 200  (791a596a)
2024-02-16T08:06:29.7825564+07:00 0HN1EHDV3F4PA:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2024-02-16T08:06:30.6010072+07:00 0HN1EHDV3F4PA:00000003 [INF] Executed ViewResult - view "Index" executed in 947.69ms. (f66409e9)
2024-02-16T08:06:30.6115315+07:00 0HN1EHDV3F4PA:00000003 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.HomeController.Index (NiTiErp)" in 1001.6881ms (afa2e885)
2024-02-16T08:06:30.8528710+07:00 0HN1EHDV3F4PA:00000003 [INF] Request finished in 1270.1887ms 200 text/html; charset=utf-8 (791a596a)
2024-02-16T08:06:31.2502397+07:00 0HN1EHDV3F4PB:00000003 [INF] Request starting HTTP/1.1 POST http://localhost:57431/chatuser/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2024-02-16T08:06:31.2526457+07:00 0HN1EHDV3F4PA:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:57431/Admin/emailthem/GetEmailCount?nguoinhan=cthoang   (ca22a1cb)
2024-02-16T08:06:31.2885262+07:00 0HN1EHDV3F4PB:00000003 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:06:31.3912938+07:00 0HN1EHDV3F4PA:00000004 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:06:31.3956609+07:00 0HN1EHDV3F4PD:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/hoso/GetListCorNhanSu   (ca22a1cb)
2024-02-16T08:06:31.4047461+07:00 0HN1EHDV3F4PC:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:57431/Admin/appuserlogin/GetUserName?username=cthoang   (ca22a1cb)
2024-02-16T08:06:31.4126618+07:00 0HN1EHDV3F4PE:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:57431/Admin/Home/TKSLNhanVien?corporationId=CT&phongId=&chucvuId=&trinhdoId=   (ca22a1cb)
2024-02-16T08:06:31.4220580+07:00 0HN1EHDV3F4PA:00000004 [INF] Route matched with "{area = \"Admin\", action = \"GetEmailCount\", controller = \"EmailThem\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetEmailCount(System.String)" on controller "NiTiErp.Areas.Admin.Controllers.EmailThemController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:06:31.4393937+07:00 0HN1EHDV3F4PD:00000001 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:06:31.4496842+07:00 0HN1EHDV3F4PA:00000004 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:06:31.4695159+07:00 0HN1EHDV3F4PD:00000001 [INF] Route matched with "{area = \"Admin\", action = \"GetListCorNhanSu\", controller = \"Hoso\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListCorNhanSu()" on controller "NiTiErp.Areas.Admin.Controllers.HosoController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:06:31.4737205+07:00 0HN1EHDV3F4PA:00000004 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.EmailThemController.GetEmailCount (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:06:31.4784952+07:00 0HN1EHDV3F4PD:00000001 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:06:31.4833724+07:00 0HN1EHDV3F4PC:00000001 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:06:31.5082134+07:00 0HN1EHDV3F4PF:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:57431/Admin/Home/TKSLChucVu?corporationId=CT&phongId=&chucvuId=&trinhdoId=   (ca22a1cb)
2024-02-16T08:06:31.5211785+07:00 0HN1EHDV3F4PD:00000001 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.HosoController.GetListCorNhanSu (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:06:31.5236106+07:00 0HN1EHDV3F4PC:00000001 [INF] Route matched with "{area = \"Admin\", action = \"GetUserName\", controller = \"AppUserLogin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetUserName(System.String)" on controller "NiTiErp.Areas.Admin.Controllers.AppUserLoginController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:06:31.5301599+07:00 0HN1EHDV3F4PE:00000001 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:06:31.5372343+07:00 0HN1EHDV3F4PC:00000001 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:06:31.5412002+07:00 0HN1EHDV3F4PA:00000004 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.EmailThemController.GetEmailCount (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 56.7429ms. (50a9e262)
2024-02-16T08:06:31.5502614+07:00 0HN1EHDV3F4PC:00000001 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.AppUserLoginController.GetUserName (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:06:31.5665313+07:00 0HN1EHDV3F4PA:00000004 [INF] Executing ObjectResult, writing value of type '"System.Int32"'. (8a1b66c8)
2024-02-16T08:06:31.5836403+07:00 0HN1EHDV3F4PF:00000001 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:06:31.5938349+07:00 0HN1EHDV3F4PA:00000004 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.EmailThemController.GetEmailCount (NiTiErp)" in 155.2304ms (afa2e885)
2024-02-16T08:06:31.6084850+07:00 0HN1EHDV3F4PD:00000001 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.HosoController.GetListCorNhanSu (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 62.0787ms. (50a9e262)
2024-02-16T08:06:31.6224201+07:00 0HN1EHDV3F4PA:00000004 [INF] Request finished in 362.3432ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:06:31.6737542+07:00 0HN1EHDV3F4PD:00000001 [INF] Executing ObjectResult, writing value of type '"System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[NiTiErp.Application.Dapper.ViewModels.CorporationViewModel, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[NiTiErp.Application.Dapper.Implementation.CorporationService+<CorporationGetList>d__3, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2024-02-16T08:06:31.7090444+07:00 0HN1EHDV3F4PC:00000001 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.AppUserLoginController.GetUserName (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 54.3297ms. (50a9e262)
2024-02-16T08:06:31.7417710+07:00 0HN1EHDV3F4PF:00000001 [INF] Route matched with "{area = \"Admin\", action = \"TKSLChucVu\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TKSLChucVu(System.String, System.String, System.String, System.String)" on controller "NiTiErp.Areas.Admin.Controllers.HomeController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:06:31.7494873+07:00 0HN1EHDV3F4PC:00000001 [INF] Executing ObjectResult, writing value of type '"System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[NiTiErp.Utilities.Dtos.PagedResult`1[[NiTiErp.Application.Dapper.ViewModels.AppUserLoginViewModel, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], NiTiErp.Utilities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[NiTiErp.Application.Dapper.Implementation.AppUserLoginService+<GetAllAppUserPaging>d__2, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2024-02-16T08:06:31.7671460+07:00 0HN1EHDV3F4PF:00000001 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:06:31.8549783+07:00 0HN1EHDV3F4PG:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:57431/chatuser?id=yfuQMN7xMIqUuyGhx1cG3g   (ca22a1cb)
2024-02-16T08:06:31.8761097+07:00 0HN1EHDV3F4PF:00000001 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.HomeController.TKSLChucVu (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:06:31.8892226+07:00 0HN1EHDV3F4PB:00000003 [INF] Request finished in 322.5778ms 200 application/json (791a596a)
2024-02-16T08:06:31.9119619+07:00 0HN1EHDV3F4PG:00000001 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:06:31.9182611+07:00 0HN1EHDV3F4PB:00000004 [INF] Request starting HTTP/1.1 POST http://localhost:57431/admin/user/GetUserName application/x-www-form-urlencoded; charset=UTF-8 16 (ca22a1cb)
2024-02-16T08:06:31.9250361+07:00 0HN1EHDV3F4PA:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:57431/Admin/Home/TKSLNhanVienTron?corporationId=%25&phongId=&chucvuId=&trinhdoId=   (ca22a1cb)
2024-02-16T08:06:31.9335033+07:00 0HN1EHDV3F4PE:00000001 [INF] Route matched with "{area = \"Admin\", action = \"TKSLNhanVien\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TKSLNhanVien(System.String, System.String, System.String, System.String)" on controller "NiTiErp.Areas.Admin.Controllers.HomeController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:06:31.9358504+07:00 0HN1EHDV3F4PB:00000004 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:06:31.9611174+07:00 0HN1EHDV3F4PA:00000005 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:06:31.9926900+07:00 0HN1EHDV3F4PB:00000004 [INF] Route matched with "{area = \"Admin\", action = \"GetUserName\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserName(System.String)" on controller "NiTiErp.Areas.Admin.Controllers.UserController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:06:32.0015090+07:00 0HN1EHDV3F4PA:00000005 [INF] Route matched with "{area = \"Admin\", action = \"TKSLNhanVienTron\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TKSLNhanVienTron(System.String, System.String, System.String, System.String)" on controller "NiTiErp.Areas.Admin.Controllers.HomeController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:06:32.0134597+07:00 0HN1EHDV3F4PF:00000001 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.HomeController.TKSLChucVu (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 120.0005ms. (50a9e262)
2024-02-16T08:06:32.0172990+07:00 0HN1EHDV3F4PD:00000001 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.HosoController.GetListCorNhanSu (NiTiErp)" in 537.0193ms (afa2e885)
2024-02-16T08:06:32.0509533+07:00 0HN1EHDV3F4PF:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[NiTiErp.Application.Dapper.ViewModels.RevenueReportViewModel, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2024-02-16T08:06:32.0625273+07:00 0HN1EHDV3F4PC:00000001 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.AppUserLoginController.GetUserName (NiTiErp)" in 484.9322ms (afa2e885)
2024-02-16T08:06:32.0750549+07:00 0HN1EHDV3F4PD:00000001 [INF] Request finished in 764.4266ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:06:32.0873996+07:00 0HN1EHDV3F4PF:00000001 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.HomeController.TKSLChucVu (NiTiErp)" in 323.0193ms (afa2e885)
2024-02-16T08:06:32.0950311+07:00 0HN1EHDV3F4PC:00000001 [INF] Request finished in 806.5981ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:06:32.1054469+07:00 0HN1EHDV3F4PF:00000001 [INF] Request finished in 685.1338ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:06:32.1070274+07:00 0HN1EHDV3F4PD:00000002 [INF] Request starting HTTP/1.1 POST http://localhost:57431/vanban/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2024-02-16T08:06:32.1153298+07:00 0HN1EHDV3F4PC:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:57431/Admin/Home/TKChucVuCot?corporationId=%25&phongId=&chucvuId=&trinhdoId=   (ca22a1cb)
2024-02-16T08:06:32.1190980+07:00 0HN1EHDV3F4PF:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/vbdthem/GetListVBDenTTXL?corporationId=CT&page=1&pageSize=10   (ca22a1cb)
2024-02-16T08:06:32.1219996+07:00 0HN1EHDV3F4PB:00000004 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:06:32.1249140+07:00 0HN1EHDV3F4PC:00000002 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:06:32.1297775+07:00 0HN1EHDV3F4PD:00000002 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:06:32.1361638+07:00 0HN1EHDV3F4PF:00000002 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:06:32.1459620+07:00 0HN1EHDV3F4PD:00000002 [INF] Request finished in 38.0274ms 200 application/json (791a596a)
2024-02-16T08:06:32.1506575+07:00 0HN1EHDV3F4PB:00000004 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.UserController.GetUserName (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:06:32.1650367+07:00 0HN1EHDV3F4PA:00000005 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:06:32.1714042+07:00 0HN1EHDV3F4PD:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/vbdthem/GetCountVBDSoCXLUserName?corporationId=CT&userNameId=cthoang   (ca22a1cb)
2024-02-16T08:06:32.1754968+07:00 0HN1EHDV3F4PC:00000002 [INF] Route matched with "{area = \"Admin\", action = \"TKChucVuCot\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TKChucVuCot(System.String, System.String, System.String, System.String)" on controller "NiTiErp.Areas.Admin.Controllers.HomeController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:06:32.1778691+07:00 0HN1EHDV3F4PF:00000002 [INF] Route matched with "{area = \"Admin\", action = \"GetListVBDenTTXL\", controller = \"VBDThem\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListVBDenTTXL(System.String, System.String, System.String, Int32, Int32)" on controller "NiTiErp.Areas.Admin.Controllers.VBDThemController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:06:32.1915184+07:00 0HN1EHDV3F4PH:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:57431/vanban?id=5OErzsklQj165Z0OW6_OzA   (ca22a1cb)
2024-02-16T08:06:32.1931797+07:00 0HN1EHDV3F4PF:00000002 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:06:32.1993242+07:00 0HN1EHDV3F4PD:00000003 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:06:32.2011257+07:00 0HN1EHDV3F4PH:00000001 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:06:32.2097728+07:00 0HN1EHDV3F4PC:00000002 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:06:32.2150401+07:00 0HN1EHDV3F4PF:00000002 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.VBDThemController.GetListVBDenTTXL (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:06:32.2183465+07:00 0HN1EHDV3F4PC:00000002 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.HomeController.TKChucVuCot (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:06:32.2281792+07:00 0HN1EHDV3F4PB:00000004 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=NiTiErp.Data.EF " (9958f5bb)
2024-02-16T08:06:32.2298647+07:00 0HN1EHDV3F4PA:00000005 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.HomeController.TKSLNhanVienTron (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:06:32.2339911+07:00 0HN1EHDV3F4PE:00000001 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:06:32.2403337+07:00 0HN1EHDV3F4PD:00000003 [INF] Route matched with "{area = \"Admin\", action = \"GetCountVBDSoCXLUserName\", controller = \"VBDThem\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetCountVBDSoCXLUserName(System.String, System.String)" on controller "NiTiErp.Areas.Admin.Controllers.VBDThemController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:06:32.2420941+07:00 0HN1EHDV3F4PC:00000002 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.HomeController.TKChucVuCot (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 14.0921ms. (50a9e262)
2024-02-16T08:06:32.2463125+07:00 0HN1EHDV3F4PD:00000003 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:06:32.2697541+07:00 0HN1EHDV3F4PE:00000001 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.HomeController.TKSLNhanVien (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:06:32.2774228+07:00 0HN1EHDV3F4PC:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[NiTiErp.Application.Dapper.ViewModels.RevenueReportViewModel, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2024-02-16T08:06:32.2800961+07:00 0HN1EHDV3F4PD:00000003 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.VBDThemController.GetCountVBDSoCXLUserName (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:06:32.2879347+07:00 0HN1EHDV3F4PC:00000002 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.HomeController.TKChucVuCot (NiTiErp)" in 104.5572ms (afa2e885)
2024-02-16T08:06:32.2926013+07:00 0HN1EHDV3F4PF:00000002 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.VBDThemController.GetListVBDenTTXL (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 73.143ms. (50a9e262)
2024-02-16T08:06:32.2988479+07:00 0HN1EHDV3F4PC:00000002 [INF] Request finished in 184.5987ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:06:32.3047769+07:00 0HN1EHDV3F4PF:00000002 [INF] Executing ObjectResult, writing value of type '"System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[NiTiErp.Application.Dapper.ViewModels.VanBanDenViewModel, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[NiTiErp.Application.Dapper.Implementation.VanBanDenService+<VanBanDennGetList>d__4, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2024-02-16T08:06:32.3127537+07:00 0HN1EHDV3F4PB:00000004 [INF] Executed DbCommand ("72"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[CorporationId], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[HoSoNhanVienId], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserCreated], [u].[UserModified], [u].[UserName]
FROM [AppUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2024-02-16T08:06:32.3237060+07:00 0HN1EHDV3F4PC:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/vbdthem/GetCountVBDenChoDuyet?corporationId=CT   (ca22a1cb)
2024-02-16T08:06:32.3531452+07:00 0HN1EHDV3F4PA:00000005 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.HomeController.TKSLNhanVienTron (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 85.2856ms. (50a9e262)
2024-02-16T08:06:32.3746700+07:00 0HN1EHDV3F4PC:00000003 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:06:32.4106494+07:00 0HN1EHDV3F4PA:00000005 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[NiTiErp.Application.Dapper.ViewModels.RevenueReportViewModel, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2024-02-16T08:06:32.4241842+07:00 0HN1EHDV3F4PB:00000004 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.UserController.GetUserName (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 240.2033ms. (50a9e262)
2024-02-16T08:06:32.4368607+07:00 0HN1EHDV3F4PB:00000004 [INF] Executing ObjectResult, writing value of type '"NiTiErp.Application.ViewModels.System.AppUserViewModel"'. (8a1b66c8)
2024-02-16T08:06:32.4313580+07:00 0HN1EHDV3F4PG:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2024-02-16T08:06:32.5126177+07:00 0HN1EHDV3F4PC:00000003 [INF] Route matched with "{area = \"Admin\", action = \"GetCountVBDenChoDuyet\", controller = \"VBDThem\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetCountVBDenChoDuyet(System.String)" on controller "NiTiErp.Areas.Admin.Controllers.VBDThemController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:06:32.5364538+07:00 0HN1EHDV3F4PB:00000004 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.UserController.GetUserName (NiTiErp)" in 459.9483ms (afa2e885)
2024-02-16T08:06:32.5402122+07:00 0HN1EHDV3F4PC:00000003 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:06:32.5455085+07:00 0HN1EHDV3F4PB:00000004 [INF] Request finished in 647.6895ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:06:32.5482694+07:00 0HN1EHDV3F4PD:00000003 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.VBDThemController.GetCountVBDSoCXLUserName (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 257.7567ms. (50a9e262)
2024-02-16T08:06:32.5580821+07:00 0HN1EHDV3F4PC:00000003 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.VBDThemController.GetCountVBDenChoDuyet (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:06:32.5657638+07:00 0HN1EHDV3F4PD:00000003 [INF] Executing ObjectResult, writing value of type '"System.Int64"'. (8a1b66c8)
2024-02-16T08:06:32.5752155+07:00 0HN1EHDV3F4PH:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2024-02-16T08:06:32.5798755+07:00 0HN1EHDV3F4PD:00000003 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.VBDThemController.GetCountVBDSoCXLUserName (NiTiErp)" in 325.591ms (afa2e885)
2024-02-16T08:06:32.6056573+07:00 0HN1EHDV3F4PC:00000003 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.VBDThemController.GetCountVBDenChoDuyet (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 12.5244ms. (50a9e262)
2024-02-16T08:06:32.6180215+07:00 0HN1EHDV3F4PA:00000005 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.HomeController.TKSLNhanVienTron (NiTiErp)" in 409.4432ms (afa2e885)
2024-02-16T08:06:32.6335880+07:00 0HN1EHDV3F4PD:00000003 [INF] Request finished in 434.199ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:06:32.6485938+07:00 0HN1EHDV3F4PE:00000001 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.HomeController.TKSLNhanVien (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 312.8173ms. (50a9e262)
2024-02-16T08:06:32.6713940+07:00 0HN1EHDV3F4PC:00000003 [INF] Executing ObjectResult, writing value of type '"System.Int64"'. (8a1b66c8)
2024-02-16T08:06:32.6805305+07:00 0HN1EHDV3F4PB:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/vbdthem/GetCountVBDenChuaPhatHanh?corporationId=CT   (ca22a1cb)
2024-02-16T08:06:32.7122385+07:00 0HN1EHDV3F4PE:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[NiTiErp.Application.Dapper.ViewModels.RevenueReportViewModel, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2024-02-16T08:06:32.7300596+07:00 0HN1EHDV3F4PD:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/thongbao/GetListThongBaoPaging?corporationId=%25&phongId=&keyword=%25&page=1&pageSize=5&hosoId=   (ca22a1cb)
2024-02-16T08:06:32.8972291+07:00 0HN1EHDV3F4PB:00000005 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:06:32.9079572+07:00 0HN1EHDV3F4PE:00000001 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.HomeController.TKSLNhanVien (NiTiErp)" in 783.6303ms (afa2e885)
2024-02-16T08:06:32.9206696+07:00 0HN1EHDV3F4PD:00000004 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:06:32.9359063+07:00 0HN1EHDV3F4PB:00000005 [INF] Route matched with "{area = \"Admin\", action = \"GetCountVBDenChuaPhatHanh\", controller = \"VBDThem\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetCountVBDenChuaPhatHanh(System.String)" on controller "NiTiErp.Areas.Admin.Controllers.VBDThemController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:06:32.9396021+07:00 0HN1EHDV3F4PE:00000001 [INF] Request finished in 1529.8712ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:06:32.9425678+07:00 0HN1EHDV3F4PB:00000005 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:06:32.9504470+07:00 0HN1EHDV3F4PD:00000004 [INF] Route matched with "{area = \"Admin\", action = \"GetListThongBaoPaging\", controller = \"ThongBao\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListThongBaoPaging(System.String, System.String, System.String, Int32, Int32, System.String)" on controller "NiTiErp.Areas.Admin.Controllers.ThongBaoController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:06:32.9540547+07:00 0HN1EHDV3F4PB:00000005 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.VBDThemController.GetCountVBDenChuaPhatHanh (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:06:32.9571394+07:00 0HN1EHDV3F4PE:00000002 [INF] Request starting HTTP/1.1 POST http://localhost:57431/chat/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2024-02-16T08:06:32.9584452+07:00 0HN1EHDV3F4PD:00000004 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:06:32.9612904+07:00 0HN1EHDV3F4PC:00000003 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.VBDThemController.GetCountVBDenChoDuyet (NiTiErp)" in 159.6202ms (afa2e885)
2024-02-16T08:06:32.9686392+07:00 0HN1EHDV3F4PA:00000005 [INF] Request finished in 971.2079ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:06:32.9729090+07:00 0HN1EHDV3F4PB:00000005 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.VBDThemController.GetCountVBDenChuaPhatHanh (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 8.766ms. (50a9e262)
2024-02-16T08:06:32.9743877+07:00 0HN1EHDV3F4PE:00000002 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:06:32.9843789+07:00 0HN1EHDV3F4PD:00000004 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.ThongBaoController.GetListThongBaoPaging (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:06:32.9856505+07:00 0HN1EHDV3F4PB:00000005 [INF] Executing ObjectResult, writing value of type '"System.Int64"'. (8a1b66c8)
2024-02-16T08:06:32.9924854+07:00 0HN1EHDV3F4PE:00000002 [INF] Request finished in 37.1418ms 200 application/json (791a596a)
2024-02-16T08:06:32.9940802+07:00 0HN1EHDV3F4PB:00000005 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.VBDThemController.GetCountVBDenChuaPhatHanh (NiTiErp)" in 51.453ms (afa2e885)
2024-02-16T08:06:32.9991019+07:00 0HN1EHDV3F4PC:00000003 [INF] Request finished in 649.3684ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:06:33.0091740+07:00 0HN1EHDV3F4PB:00000005 [INF] Request finished in 345.9639ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:06:33.0158650+07:00 0HN1EHDV3F4PE:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:57431/chat?id=ahZSP1Vv7A_Tf7HX-hbCjQ   (ca22a1cb)
2024-02-16T08:06:33.0196599+07:00 0HN1EHDV3F4PC:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:57431/?h=29   (ca22a1cb)
2024-02-16T08:06:33.0286388+07:00 0HN1EHDV3F4PA:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/vbdithem/GetCountVBDiDienTuKV?corporationId=CT   (ca22a1cb)
2024-02-16T08:06:33.0340632+07:00 0HN1EHDV3F4PD:00000004 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.ThongBaoController.GetListThongBaoPaging (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 35.1147ms. (50a9e262)
2024-02-16T08:06:33.0580631+07:00 0HN1EHDV3F4PE:00000003 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:06:33.0663488+07:00 0HN1EHDV3F4PD:00000004 [INF] Executing ObjectResult, writing value of type '"System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[NiTiErp.Utilities.Dtos.PagedResult`1[[NiTiErp.Application.Dapper.ViewModels.ThongBaoViewModel, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], NiTiErp.Utilities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[NiTiErp.Application.Dapper.Implementation.ThongBaoService+<GetAllThongBaoPaging>d__3, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2024-02-16T08:06:33.0798700+07:00 0HN1EHDV3F4PC:00000004 [INF] Resizing / with params w: 0, h: 29, autorotate: False, quality: 100, format: /, mode: max (8fcf9d15)
2024-02-16T08:06:33.0835473+07:00 0HN1EHDV3F4PA:00000006 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:06:33.0935776+07:00 0HN1EHDV3F4PE:00000003 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2024-02-16T08:06:33.1308649+07:00 0HN1EHDV3F4PA:00000006 [INF] Route matched with "{area = \"Admin\", action = \"GetCountVBDiDienTuKV\", controller = \"VBDiThem\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetCountVBDiDienTuKV(System.String)" on controller "NiTiErp.Areas.Admin.Controllers.VBDiThemController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:06:33.1504340+07:00 0HN1EHDV3F4PA:00000006 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:06:33.1558560+07:00 0HN1EHDV3F4PA:00000006 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.VBDiThemController.GetCountVBDiDienTuKV (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:06:33.1856243+07:00 0HN1EHDV3F4PA:00000006 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.VBDiThemController.GetCountVBDiDienTuKV (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 26.7644ms. (50a9e262)
2024-02-16T08:06:33.1888020+07:00 0HN1EHDV3F4PA:00000006 [INF] Executing ObjectResult, writing value of type '"System.Int64"'. (8a1b66c8)
2024-02-16T08:06:33.1924411+07:00 0HN1EHDV3F4PA:00000006 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.VBDiThemController.GetCountVBDiDienTuKV (NiTiErp)" in 58.1781ms (afa2e885)
2024-02-16T08:06:33.1980281+07:00 0HN1EHDV3F4PA:00000006 [INF] Request finished in 224.0362ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:06:33.2172116+07:00 0HN1EHDV3F4PC:00000004 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.UnauthorizedAccessException: Access to the path 'D:\nguyen\NiTiErp\popct-10poChau01\pctdien\NiTiErp\wwwroot' is denied.
   at System.IO.FileStream.ValidateFileHandle(SafeFileHandle fileHandle)
   at System.IO.FileStream.CreateFileOpenHandle(FileMode mode, FileShare share, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share)
   at System.IO.File.OpenRead(String path)
   at NiTiErp.Middleware.ImageResizerMiddleware.GetImageData(String imagePath, ResizeParams resizeParams, DateTime lastWriteTimeUtc) in D:\nguyen\NiTiErp\popct-10poChau01\pctdien\NiTiErp\Middleware\ImageResizerMiddleware.cs:line 129
   at NiTiErp.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in D:\nguyen\NiTiErp\popct-10poChau01\pctdien\NiTiErp\Middleware\ImageResizerMiddleware.cs:line 98
   at DevExpress.AspNetCore.Internal.BinaryStorageMiddleware.Invoke(HttpContext httpContext)
   at DevExpress.AspNetCore.Internal.ResourceManagerMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-02-16T08:06:33.2262774+07:00 0HN1EHDV3F4PD:00000004 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.ThongBaoController.GetListThongBaoPaging (NiTiErp)" in 272.35ms (afa2e885)
2024-02-16T08:06:38.1400254+07:00 0HN1EHDV3F4PD:00000004 [INF] Request finished in 5454.4302ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:06:38.3494149+07:00 0HN1EHDV3F4PC:00000004 [INF] Request finished in 5346.2571ms 500 text/html; charset=utf-8 (791a596a)
2024-02-16T08:06:39.2918181+07:00 0HN1EHDV3F4PF:00000002 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.VBDThemController.GetListVBDenTTXL (NiTiErp)" in 7096.4147ms (afa2e885)
2024-02-16T08:06:39.3023894+07:00 0HN1EHDV3F4PF:00000002 [INF] Request finished in 7190.0435ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:06:54.6433750+07:00 0HN1EHDV3F4PB:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/user/index   (ca22a1cb)
2024-02-16T08:06:54.6496081+07:00 0HN1EHDV3F4PB:00000006 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:06:54.6566158+07:00 0HN1EHDV3F4PB:00000006 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "NiTiErp.Areas.Admin.Controllers.UserController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:06:54.6592628+07:00 0HN1EHDV3F4PB:00000006 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:06:54.6617116+07:00 0HN1EHDV3F4PB:00000006 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.UserController.Index (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:06:54.6769562+07:00 0HN1EHDV3F4PB:00000006 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=NiTiErp.Data.EF " (9958f5bb)
2024-02-16T08:07:06.1449038+07:00 0HN1EHDV3F4PB:00000006 [INF] Executed DbCommand ("4"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[CanCreate], [p].[CanDelete], [p].[CanRead], [p].[CanUpdate], [p].[FunctionId], [p].[RoleId]
FROM [Functions] AS [f]
INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
WHERE ([r].[Name] IN (N'Admin') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1)" (0723d8ff)
2024-02-16T08:07:19.6888786+07:00 0HN1EHDV3F4PB:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[CanCreate], [p].[CanDelete], [p].[CanRead], [p].[CanUpdate], [p].[FunctionId], [p].[RoleId]
FROM [Functions] AS [f]
INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
WHERE ([r].[Name] IN (N'Admin') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1)" (0723d8ff)
2024-02-16T08:07:32.7258146+07:00 0HN1EHDV3F4PE:00000003 [INF] Request finished in 59698.7433ms 101  (791a596a)
2024-02-16T08:07:32.7463517+07:00 0HN1EHDV3F4PG:00000001 [INF] Request finished in 61099.298ms 101  (791a596a)
2024-02-16T08:07:32.7630792+07:00 0HN1EHDV3F4PH:00000001 [INF] Request finished in 60521.47ms 101  (791a596a)
2024-02-16T08:07:32.7868889+07:00 0HN1EHDV3F4PB:00000006 [INF] Executed DbCommand ("11"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2024-02-16T08:07:46.8910851+07:00 0HN1EHDV3F4PB:00000006 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:07:46.8939155+07:00 0HN1EHDV3F4PB:00000006 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.UserController.Index (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 52229.5603ms. (50a9e262)
2024-02-16T08:07:46.9432795+07:00 0HN1EHDV3F4PB:00000006 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2024-02-16T08:07:54.4604266+07:00 0HN1EHDV3F4PB:00000006 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[CanCreate], [p].[CanDelete], [p].[CanRead], [p].[CanUpdate], [p].[FunctionId], [p].[RoleId]
FROM [Functions] AS [f]
INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
WHERE ([r].[Name] IN (N'Admin') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1)" (0723d8ff)
2024-02-16T08:08:08.9220994+07:00 0HN1EHDV3F4PB:00000006 [INF] Executed DbCommand ("56"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2024-02-16T08:08:09.6400226+07:00 0HN1EHDV3F4PB:00000006 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:08:10.3014767+07:00 0HN1EHDV3F4PB:00000006 [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2024-02-16T08:08:10.9232507+07:00 0HN1EHDV3F4PB:00000006 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:08:11.5028586+07:00 0HN1EHDV3F4PB:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2024-02-16T08:08:12.5938678+07:00 0HN1EHDV3F4PB:00000006 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:08:13.6586302+07:00 0HN1EHDV3F4PB:00000006 [INF] Executed DbCommand ("13"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2024-02-16T08:08:14.5644537+07:00 0HN1EHDV3F4PB:00000006 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:08:14.6822152+07:00 0HN1EHDV3F4PB:00000006 [INF] Executed ViewResult - view "Index" executed in 27783.2925ms. (f66409e9)
2024-02-16T08:08:14.6845779+07:00 0HN1EHDV3F4PB:00000006 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.UserController.Index (NiTiErp)" in 80025.7294ms (afa2e885)
2024-02-16T08:08:14.7041606+07:00 0HN1EHDV3F4PB:00000006 [INF] Request finished in 80061.0052ms 200 text/html; charset=utf-8 (791a596a)
2024-02-16T08:08:15.0148056+07:00 0HN1EHDV3F4PB:00000007 [INF] Request starting HTTP/1.1 POST http://localhost:57431/chatuser/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2024-02-16T08:08:15.0167950+07:00 0HN1EHDV3F4PI:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:57431/Admin/appuserlogin/GetUserName?username=cthoang   (ca22a1cb)
2024-02-16T08:08:15.0315090+07:00 0HN1EHDV3F4PB:00000007 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:08:15.0362635+07:00 0HN1EHDV3F4PI:00000001 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:08:15.0403456+07:00 0HN1EHDV3F4PB:00000007 [INF] Request finished in 37.9625ms 200 application/json (791a596a)
2024-02-16T08:08:15.0513727+07:00 0HN1EHDV3F4PJ:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:57431/Admin/emailthem/GetEmailCount?nguoinhan=cthoang   (ca22a1cb)
2024-02-16T08:08:15.0595921+07:00 0HN1EHDV3F4PB:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/corporation/GetAllCorporations   (ca22a1cb)
2024-02-16T08:08:15.0650347+07:00 0HN1EHDV3F4PK:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/user/GetAllPagingKhuVucCor?corporationId=&keyword=&page=1&pageSize=10   (ca22a1cb)
2024-02-16T08:08:15.0721692+07:00 0HN1EHDV3F4PJ:00000001 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:08:15.0810176+07:00 0HN1EHDV3F4PB:00000008 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:08:15.0833604+07:00 0HN1EHDV3F4PK:00000001 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:08:15.0880918+07:00 0HN1EHDV3F4PJ:00000001 [INF] Route matched with "{area = \"Admin\", action = \"GetEmailCount\", controller = \"EmailThem\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetEmailCount(System.String)" on controller "NiTiErp.Areas.Admin.Controllers.EmailThemController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:08:15.0921342+07:00 0HN1EHDV3F4PM:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:57431/chatuser?id=ijzPloQEoAGAed6FDvOMSg   (ca22a1cb)
2024-02-16T08:08:15.0955553+07:00 0HN1EHDV3F4PJ:00000001 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:08:15.1023490+07:00 0HN1EHDV3F4PL:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/hoso/GetListCorNhanSu   (ca22a1cb)
2024-02-16T08:08:15.1083521+07:00 0HN1EHDV3F4PK:00000001 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPagingKhuVucCor\", controller = \"User\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPagingKhuVucCor(System.String, System.String, Int32, Int32)" on controller "NiTiErp.Areas.Admin.Controllers.UserController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:08:15.1160134+07:00 0HN1EHDV3F4PM:00000001 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:08:15.1213201+07:00 0HN1EHDV3F4PK:00000001 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:08:15.1252339+07:00 0HN1EHDV3F4PJ:00000001 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.EmailThemController.GetEmailCount (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:08:15.1264576+07:00 0HN1EHDV3F4PK:00000001 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.UserController.GetAllPagingKhuVucCor (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:08:15.1309604+07:00 0HN1EHDV3F4PL:00000001 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:08:15.1364158+07:00 0HN1EHDV3F4PB:00000008 [INF] Route matched with "{area = \"Admin\", action = \"GetAllCorporations\", controller = \"Corporation\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllCorporations()" on controller "NiTiErp.Areas.Admin.Controllers.CorporationController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:08:15.1413144+07:00 0HN1EHDV3F4PJ:00000001 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.EmailThemController.GetEmailCount (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.7778ms. (50a9e262)
2024-02-16T08:08:15.1446207+07:00 0HN1EHDV3F4PL:00000001 [INF] Route matched with "{area = \"Admin\", action = \"GetListCorNhanSu\", controller = \"Hoso\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListCorNhanSu()" on controller "NiTiErp.Areas.Admin.Controllers.HosoController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:08:15.1490598+07:00 0HN1EHDV3F4PK:00000001 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=NiTiErp.Data.EF " (9958f5bb)
2024-02-16T08:08:15.1519033+07:00 0HN1EHDV3F4PJ:00000001 [INF] Executing ObjectResult, writing value of type '"System.Int32"'. (8a1b66c8)
2024-02-16T08:08:15.1534284+07:00 0HN1EHDV3F4PL:00000001 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:08:15.1628369+07:00 0HN1EHDV3F4PJ:00000001 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.EmailThemController.GetEmailCount (NiTiErp)" in 63.9143ms (afa2e885)
2024-02-16T08:08:15.1657530+07:00 0HN1EHDV3F4PL:00000001 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.HosoController.GetListCorNhanSu (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:08:15.1701887+07:00 0HN1EHDV3F4PJ:00000001 [INF] Request finished in 127.1784ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:08:15.1764093+07:00 0HN1EHDV3F4PB:00000008 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:08:15.1828031+07:00 0HN1EHDV3F4PL:00000001 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.HosoController.GetListCorNhanSu (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.3634ms. (50a9e262)
2024-02-16T08:08:15.2001055+07:00 0HN1EHDV3F4PI:00000001 [INF] Route matched with "{area = \"Admin\", action = \"GetUserName\", controller = \"AppUserLogin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetUserName(System.String)" on controller "NiTiErp.Areas.Admin.Controllers.AppUserLoginController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:08:15.2017058+07:00 0HN1EHDV3F4PL:00000001 [INF] Executing ObjectResult, writing value of type '"System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[NiTiErp.Application.Dapper.ViewModels.CorporationViewModel, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[NiTiErp.Application.Dapper.Implementation.CorporationService+<CorporationGetList>d__3, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2024-02-16T08:08:15.2080724+07:00 0HN1EHDV3F4PB:00000008 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.CorporationController.GetAllCorporations (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:08:15.2209555+07:00 0HN1EHDV3F4PI:00000001 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:08:15.2382690+07:00 0HN1EHDV3F4PK:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppUsers] AS [x]
WHERE [x].[CorporationId] IS NULL" (0723d8ff)
2024-02-16T08:08:15.2426734+07:00 0HN1EHDV3F4PB:00000008 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=NiTiErp.Data.EF " (9958f5bb)
2024-02-16T08:08:15.2528559+07:00 0HN1EHDV3F4PI:00000001 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.AppUserLoginController.GetUserName (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:08:15.2573281+07:00 0HN1EHDV3F4PL:00000001 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.HosoController.GetListCorNhanSu (NiTiErp)" in 100.1689ms (afa2e885)
2024-02-16T08:08:16.3001462+07:00 0HN1EHDV3F4PI:00000001 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.AppUserLoginController.GetUserName (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.5762ms. (50a9e262)
2024-02-16T08:08:16.3182938+07:00 0HN1EHDV3F4PI:00000001 [INF] Executing ObjectResult, writing value of type '"System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[NiTiErp.Utilities.Dtos.PagedResult`1[[NiTiErp.Application.Dapper.ViewModels.AppUserLoginViewModel, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], NiTiErp.Utilities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[NiTiErp.Application.Dapper.Implementation.AppUserLoginService+<GetAllAppUserPaging>d__2, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2024-02-16T08:08:16.3260153+07:00 0HN1EHDV3F4PK:00000001 [WRN] Query: '"(from AppUser x in DbSet<AppUser> where bool [x].CorporationId.Equals(__corporationId_0) select new ..."' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results. (32148ccc)
2024-02-16T08:08:16.3366057+07:00 0HN1EHDV3F4PM:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2024-02-16T08:08:16.3403897+07:00 0HN1EHDV3F4PL:00000001 [INF] Request finished in 1229.4101ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:08:16.3482729+07:00 0HN1EHDV3F4PJ:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/user/GetAllPagingKhuVucCor?corporationId=CT&keyword=&page=1&pageSize=10   (ca22a1cb)
2024-02-16T08:08:16.3528552+07:00 0HN1EHDV3F4PL:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/hoso/GetListPhongKhuVuc?makv=CT   (ca22a1cb)
2024-02-16T08:08:16.3570612+07:00 0HN1EHDV3F4PL:00000002 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:08:16.3652649+07:00 0HN1EHDV3F4PJ:00000002 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:08:16.3692529+07:00 0HN1EHDV3F4PJ:00000002 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPagingKhuVucCor\", controller = \"User\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPagingKhuVucCor(System.String, System.String, Int32, Int32)" on controller "NiTiErp.Areas.Admin.Controllers.UserController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:08:16.3724042+07:00 0HN1EHDV3F4PJ:00000002 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:08:16.3764578+07:00 0HN1EHDV3F4PI:00000001 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.AppUserLoginController.GetUserName (NiTiErp)" in 1169.6751ms (afa2e885)
2024-02-16T08:08:16.3811584+07:00 0HN1EHDV3F4PJ:00000002 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.UserController.GetAllPagingKhuVucCor (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:08:16.3868760+07:00 0HN1EHDV3F4PJ:00000002 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=NiTiErp.Data.EF " (9958f5bb)
2024-02-16T08:08:16.3882297+07:00 0HN1EHDV3F4PL:00000002 [INF] Route matched with "{area = \"Admin\", action = \"GetListPhongKhuVuc\", controller = \"Hoso\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListPhongKhuVuc(System.String)" on controller "NiTiErp.Areas.Admin.Controllers.HosoController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:08:16.3939500+07:00 0HN1EHDV3F4PL:00000002 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:08:16.4014084+07:00 0HN1EHDV3F4PI:00000001 [INF] Request finished in 1377.7583ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:08:16.4073250+07:00 0HN1EHDV3F4PL:00000002 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.HosoController.GetListPhongKhuVuc (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:08:16.4185926+07:00 0HN1EHDV3F4PI:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:57431/?h=29   (ca22a1cb)
2024-02-16T08:08:16.4258092+07:00 0HN1EHDV3F4PK:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AppUsers] AS [x]
WHERE [x].[CorporationId] IS NULL
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2024-02-16T08:08:16.4298841+07:00 0HN1EHDV3F4PI:00000002 [INF] Resizing / with params w: 0, h: 29, autorotate: False, quality: 100, format: /, mode: max (8fcf9d15)
2024-02-16T08:08:16.4385333+07:00 0HN1EHDV3F4PJ:00000002 [INF] Executed DbCommand ("23"ms) [Parameters=["@__corporationId_0='?' (Size = 50) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppUsers] AS [x]
WHERE [x].[CorporationId] = @__corporationId_0" (0723d8ff)
2024-02-16T08:08:16.4556471+07:00 0HN1EHDV3F4PL:00000002 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.HosoController.GetListPhongKhuVuc (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 22.4685ms. (50a9e262)
2024-02-16T08:08:16.4741561+07:00 0HN1EHDV3F4PK:00000001 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.UserController.GetAllPagingKhuVucCor (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1323.381ms. (50a9e262)
2024-02-16T08:08:16.4817830+07:00 0HN1EHDV3F4PL:00000002 [INF] Executing ObjectResult, writing value of type '"System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[NiTiErp.Application.Dapper.ViewModels.PhongDanhMucViewModel, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[NiTiErp.Application.Dapper.Implementation.PhongDanhMucService+<PhongDanhMucGetList>d__3, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2024-02-16T08:08:16.4896907+07:00 0HN1EHDV3F4PK:00000001 [INF] Executing ObjectResult, writing value of type '"NiTiErp.Utilities.Dtos.PagedResult`1[[NiTiErp.Application.ViewModels.System.AppUserViewModel, NiTiErp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2024-02-16T08:08:16.4933765+07:00 0HN1EHDV3F4PJ:00000002 [INF] Executed DbCommand ("5"ms) [Parameters=["@__corporationId_0='?' (Size = 50) (DbType = AnsiString), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AppUsers] AS [x]
WHERE [x].[CorporationId] = @__corporationId_0
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2024-02-16T08:08:16.4992857+07:00 0HN1EHDV3F4PN:00000001 [INF] Request starting HTTP/1.1 POST http://localhost:57431/chat/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2024-02-16T08:08:16.5018717+07:00 0HN1EHDV3F4PJ:00000002 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.UserController.GetAllPagingKhuVucCor (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 114.8126ms. (50a9e262)
2024-02-16T08:08:16.5077845+07:00 0HN1EHDV3F4PI:00000002 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.UnauthorizedAccessException: Access to the path 'D:\nguyen\NiTiErp\popct-10poChau01\pctdien\NiTiErp\wwwroot' is denied.
   at System.IO.FileStream.ValidateFileHandle(SafeFileHandle fileHandle)
   at System.IO.FileStream.CreateFileOpenHandle(FileMode mode, FileShare share, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share)
   at System.IO.File.OpenRead(String path)
   at NiTiErp.Middleware.ImageResizerMiddleware.GetImageData(String imagePath, ResizeParams resizeParams, DateTime lastWriteTimeUtc) in D:\nguyen\NiTiErp\popct-10poChau01\pctdien\NiTiErp\Middleware\ImageResizerMiddleware.cs:line 129
   at NiTiErp.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in D:\nguyen\NiTiErp\popct-10poChau01\pctdien\NiTiErp\Middleware\ImageResizerMiddleware.cs:line 98
   at DevExpress.AspNetCore.Internal.BinaryStorageMiddleware.Invoke(HttpContext httpContext)
   at DevExpress.AspNetCore.Internal.ResourceManagerMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-02-16T08:08:16.5256313+07:00 0HN1EHDV3F4PJ:00000002 [INF] Executing ObjectResult, writing value of type '"NiTiErp.Utilities.Dtos.PagedResult`1[[NiTiErp.Application.ViewModels.System.AppUserViewModel, NiTiErp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2024-02-16T08:08:16.5329673+07:00 0HN1EHDV3F4PK:00000001 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.UserController.GetAllPagingKhuVucCor (NiTiErp)" in 1402.4674ms (afa2e885)
2024-02-16T08:08:16.5352628+07:00 0HN1EHDV3F4PI:00000002 [INF] Request finished in 110.2792ms 500 text/html; charset=utf-8 (791a596a)
2024-02-16T08:08:16.5532098+07:00 0HN1EHDV3F4PJ:00000002 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.UserController.GetAllPagingKhuVucCor (NiTiErp)" in 159.3319ms (afa2e885)
2024-02-16T08:08:16.5698977+07:00 0HN1EHDV3F4PN:00000001 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:08:16.5747293+07:00 0HN1EHDV3F4PK:00000001 [INF] Request finished in 1501.3194ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:08:16.5776516+07:00 0HN1EHDV3F4PL:00000002 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.HosoController.GetListPhongKhuVuc (NiTiErp)" in 176.8383ms (afa2e885)
2024-02-16T08:08:17.0505149+07:00 0HN1EHDV3F4PK:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/user/GetAllPagingKhuVucCor?corporationId=CT&keyword=&page=1&pageSize=10   (ca22a1cb)
2024-02-16T08:08:17.0736212+07:00 0HN1EHDV3F4PB:00000008 [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Name], [p].[Address], [p].[PhoneNumber1], [p].[PhoneNumber2], [p].[TaxNumber], [p].[Email], [p].[WebName], [p].[Image], [p].[ImageLogo], [p].[CorporationServiceId], [p].[DateCreated], [p].[DateModified], [p].[UserIdCreated], [p].[UserIdModified], [p].[Active], [p].[Stt], [p].[ParentId]
FROM [Corporations] AS [p]
WHERE [p].[Active] = 1
ORDER BY [p].[DateCreated] DESC" (0723d8ff)
2024-02-16T08:08:17.0812859+07:00 0HN1EHDV3F4PJ:00000002 [INF] Request finished in 212.8063ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:08:17.0865634+07:00 0HN1EHDV3F4PN:00000001 [INF] Request finished in 153.6286ms 200 application/json (791a596a)
2024-02-16T08:08:17.0973310+07:00 0HN1EHDV3F4PL:00000002 [INF] Request finished in 738.0597ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:08:17.1120822+07:00 0HN1EHDV3F4PK:00000002 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:08:17.1168923+07:00  [WRN] Connection processing ended abnormally. (21e125cb)
Microsoft.AspNetCore.Connections.ConnectionAbortedException: The connection was aborted
   at System.IO.Pipelines.PipeCompletion.ThrowLatchedException()
   at System.IO.Pipelines.Pipe.GetReadResult(ReadResult& result)
   at System.IO.Pipelines.Pipe.GetReadAsyncResult()
   at System.IO.Pipelines.Pipe.DefaultPipeReader.GetResult(Int16 token)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2024-02-16T08:08:17.1202428+07:00 0HN1EHDV3F4PB:00000008 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.CorporationController.GetAllCorporations (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1892.5193ms. (50a9e262)
2024-02-16T08:08:17.1336327+07:00 0HN1EHDV3F4PN:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/hoso/GetListPhongKhuVuc?makv=CT   (ca22a1cb)
2024-02-16T08:08:17.1356516+07:00 0HN1EHDV3F4PK:00000002 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPagingKhuVucCor\", controller = \"User\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPagingKhuVucCor(System.String, System.String, Int32, Int32)" on controller "NiTiErp.Areas.Admin.Controllers.UserController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:08:17.1438470+07:00 0HN1EHDV3F4PB:00000008 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[NiTiErp.Application.ViewModels.Corporation.CorporationViewModel, NiTiErp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2024-02-16T08:08:17.1512968+07:00 0HN1EHDV3F4PK:00000002 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:08:17.1546242+07:00 0HN1EHDV3F4PN:00000002 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:08:17.2126603+07:00 0HN1EHDV3F4PJ:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:57431/chat?id=P2R-pHJptQLeFSp3zkMokA   (ca22a1cb)
2024-02-16T08:08:17.2159802+07:00 0HN1EHDV3F4PK:00000002 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.UserController.GetAllPagingKhuVucCor (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:08:17.2178646+07:00 0HN1EHDV3F4PB:00000008 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.CorporationController.GetAllCorporations (NiTiErp)" in 2025.3451ms (afa2e885)
2024-02-16T08:08:17.2276211+07:00 0HN1EHDV3F4PN:00000002 [INF] Route matched with "{area = \"Admin\", action = \"GetListPhongKhuVuc\", controller = \"Hoso\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListPhongKhuVuc(System.String)" on controller "NiTiErp.Areas.Admin.Controllers.HosoController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:08:17.2335210+07:00 0HN1EHDV3F4PK:00000002 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=NiTiErp.Data.EF " (9958f5bb)
2024-02-16T08:08:17.2369562+07:00 0HN1EHDV3F4PB:00000008 [INF] Request finished in 2174.09ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:08:17.2384802+07:00 0HN1EHDV3F4PN:00000002 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:08:17.2418314+07:00 0HN1EHDV3F4PJ:00000003 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:08:17.2476215+07:00 0HN1EHDV3F4PK:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__corporationId_0='?' (Size = 50) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppUsers] AS [x]
WHERE [x].[CorporationId] = @__corporationId_0" (0723d8ff)
2024-02-16T08:08:17.2496856+07:00 0HN1EHDV3F4PN:00000002 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.HosoController.GetListPhongKhuVuc (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:08:17.2556612+07:00 0HN1EHDV3F4PK:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__corporationId_0='?' (Size = 50) (DbType = AnsiString), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AppUsers] AS [x]
WHERE [x].[CorporationId] = @__corporationId_0
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2024-02-16T08:08:17.2593216+07:00 0HN1EHDV3F4PJ:00000003 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2024-02-16T08:08:17.2622722+07:00 0HN1EHDV3F4PK:00000002 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.UserController.GetAllPagingKhuVucCor (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 41.1239ms. (50a9e262)
2024-02-16T08:08:17.2657134+07:00 0HN1EHDV3F4PN:00000002 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.HosoController.GetListPhongKhuVuc (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.0167ms. (50a9e262)
2024-02-16T08:08:17.2686203+07:00 0HN1EHDV3F4PK:00000002 [INF] Executing ObjectResult, writing value of type '"NiTiErp.Utilities.Dtos.PagedResult`1[[NiTiErp.Application.ViewModels.System.AppUserViewModel, NiTiErp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2024-02-16T08:08:17.2714436+07:00 0HN1EHDV3F4PN:00000002 [INF] Executing ObjectResult, writing value of type '"System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[NiTiErp.Application.Dapper.ViewModels.PhongDanhMucViewModel, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[NiTiErp.Application.Dapper.Implementation.PhongDanhMucService+<PhongDanhMucGetList>d__3, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2024-02-16T08:08:17.2743668+07:00 0HN1EHDV3F4PK:00000002 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.UserController.GetAllPagingKhuVucCor (NiTiErp)" in 133.1336ms (afa2e885)
2024-02-16T08:08:17.2791429+07:00 0HN1EHDV3F4PK:00000002 [INF] Request finished in 699.823ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:08:17.2955316+07:00 0HN1EHDV3F4PN:00000002 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.HosoController.GetListPhongKhuVuc (NiTiErp)" in 64.2786ms (afa2e885)
2024-02-16T08:08:17.3032848+07:00 0HN1EHDV3F4PN:00000002 [INF] Request finished in 201.9322ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:08:53.9115350+07:00 0HN1EHDV3F4PL:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/user/index   (ca22a1cb)
2024-02-16T08:08:53.9151007+07:00 0HN1EHDV3F4PL:00000003 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:08:53.9199960+07:00 0HN1EHDV3F4PL:00000003 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "NiTiErp.Areas.Admin.Controllers.UserController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:08:53.9238586+07:00 0HN1EHDV3F4PL:00000003 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:08:53.9263829+07:00 0HN1EHDV3F4PL:00000003 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.UserController.Index (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:08:53.9291450+07:00 0HN1EHDV3F4PL:00000003 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=NiTiErp.Data.EF " (9958f5bb)
2024-02-16T08:08:57.9280812+07:00 0HN1EHDV3F4PL:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[CanCreate], [p].[CanDelete], [p].[CanRead], [p].[CanUpdate], [p].[FunctionId], [p].[RoleId]
FROM [Functions] AS [f]
INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
WHERE ([r].[Name] IN (N'Admin') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1)" (0723d8ff)
2024-02-16T08:09:09.3247230+07:00 0HN1EHDV3F4PL:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[CanCreate], [p].[CanDelete], [p].[CanRead], [p].[CanUpdate], [p].[FunctionId], [p].[RoleId]
FROM [Functions] AS [f]
INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
WHERE ([r].[Name] IN (N'Admin') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1)" (0723d8ff)
2024-02-16T08:09:22.4686033+07:00 0HN1EHDV3F4PM:00000001 [INF] Request finished in 67372.6042ms 101  (791a596a)
2024-02-16T08:09:22.4764032+07:00 0HN1EHDV3F4PL:00000003 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2024-02-16T08:09:22.4906445+07:00 0HN1EHDV3F4PJ:00000003 [INF] Request finished in 65391.7303ms 101  (791a596a)
2024-02-16T08:09:30.8426933+07:00 0HN1EHDV3F4PL:00000003 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:09:30.8510723+07:00 0HN1EHDV3F4PL:00000003 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.UserController.Index (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 36916.4124ms. (50a9e262)
2024-02-16T08:09:30.8611346+07:00 0HN1EHDV3F4PL:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2024-02-16T08:09:31.5039199+07:00 0HN1EHDV3F4PL:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2024-02-16T08:09:32.0874289+07:00 0HN1EHDV3F4PL:00000003 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:09:32.6192597+07:00 0HN1EHDV3F4PL:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2024-02-16T08:09:33.2628030+07:00 0HN1EHDV3F4PL:00000003 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:09:33.8790016+07:00 0HN1EHDV3F4PL:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2024-02-16T08:09:34.6611199+07:00 0HN1EHDV3F4PL:00000003 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:09:35.9342528+07:00 0HN1EHDV3F4PL:00000003 [INF] Executed DbCommand ("4"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2024-02-16T08:09:36.7894274+07:00 0HN1EHDV3F4PL:00000003 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:09:36.7971284+07:00 0HN1EHDV3F4PL:00000003 [INF] Executed ViewResult - view "Index" executed in 5943.3932ms. (f66409e9)
2024-02-16T08:09:36.7999939+07:00 0HN1EHDV3F4PL:00000003 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.UserController.Index (NiTiErp)" in 42877.307ms (afa2e885)
2024-02-16T08:09:36.8182880+07:00 0HN1EHDV3F4PL:00000003 [INF] Request finished in 42905.3288ms 200 text/html; charset=utf-8 (791a596a)
2024-02-16T08:09:36.9524539+07:00 0HN1EHDV3F4PL:00000004 [INF] Request starting HTTP/1.1 POST http://localhost:57431/chatuser/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2024-02-16T08:09:36.9613491+07:00 0HN1EHDV3F4PL:00000004 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:09:36.9704429+07:00 0HN1EHDV3F4PO:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:57431/Admin/appuserlogin/GetUserName?username=cthoang   (ca22a1cb)
2024-02-16T08:09:36.9731732+07:00 0HN1EHDV3F4PP:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:57431/Admin/emailthem/GetEmailCount?nguoinhan=cthoang   (ca22a1cb)
2024-02-16T08:09:36.9743170+07:00 0HN1EHDV3F4PL:00000004 [INF] Request finished in 14.9355ms 200 application/json (791a596a)
2024-02-16T08:09:36.9797681+07:00 0HN1EHDV3F4PL:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/hoso/GetListCorNhanSu   (ca22a1cb)
2024-02-16T08:09:36.9833978+07:00 0HN1EHDV3F4PO:00000001 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:09:36.9879676+07:00 0HN1EHDV3F4PL:00000005 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:09:36.9915298+07:00 0HN1EHDV3F4PP:00000001 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:09:36.9976483+07:00 0HN1EHDV3F4PR:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/corporation/GetAllCorporations   (ca22a1cb)
2024-02-16T08:09:37.0002104+07:00 0HN1EHDV3F4PO:00000001 [INF] Route matched with "{area = \"Admin\", action = \"GetUserName\", controller = \"AppUserLogin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetUserName(System.String)" on controller "NiTiErp.Areas.Admin.Controllers.AppUserLoginController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:09:37.0059544+07:00 0HN1EHDV3F4PP:00000001 [INF] Route matched with "{area = \"Admin\", action = \"GetEmailCount\", controller = \"EmailThem\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetEmailCount(System.String)" on controller "NiTiErp.Areas.Admin.Controllers.EmailThemController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:09:37.0122505+07:00 0HN1EHDV3F4PS:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:57431/chatuser?id=Upv-KSdqb47zWUCc3sHCow   (ca22a1cb)
2024-02-16T08:09:37.0145318+07:00 0HN1EHDV3F4PO:00000001 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:09:37.0172126+07:00 0HN1EHDV3F4PR:00000001 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:09:37.0206956+07:00 0HN1EHDV3F4PS:00000001 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:09:37.0245382+07:00 0HN1EHDV3F4PO:00000001 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.AppUserLoginController.GetUserName (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:09:37.0291671+07:00 0HN1EHDV3F4PR:00000001 [INF] Route matched with "{area = \"Admin\", action = \"GetAllCorporations\", controller = \"Corporation\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllCorporations()" on controller "NiTiErp.Areas.Admin.Controllers.CorporationController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:09:37.0319354+07:00 0HN1EHDV3F4PP:00000001 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:09:37.0355940+07:00 0HN1EHDV3F4PR:00000001 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:09:37.0763919+07:00 0HN1EHDV3F4PO:00000001 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.AppUserLoginController.GetUserName (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.008ms. (50a9e262)
2024-02-16T08:09:37.0844548+07:00 0HN1EHDV3F4PP:00000001 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.EmailThemController.GetEmailCount (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:09:37.0949979+07:00 0HN1EHDV3F4PO:00000001 [INF] Executing ObjectResult, writing value of type '"System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[NiTiErp.Utilities.Dtos.PagedResult`1[[NiTiErp.Application.Dapper.ViewModels.AppUserLoginViewModel, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], NiTiErp.Utilities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[NiTiErp.Application.Dapper.Implementation.AppUserLoginService+<GetAllAppUserPaging>d__2, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2024-02-16T08:09:37.1001601+07:00 0HN1EHDV3F4PR:00000001 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.CorporationController.GetAllCorporations (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:09:37.1105554+07:00 0HN1EHDV3F4PP:00000001 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.EmailThemController.GetEmailCount (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.6724ms. (50a9e262)
2024-02-16T08:09:37.1147792+07:00 0HN1EHDV3F4PR:00000001 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=NiTiErp.Data.EF " (9958f5bb)
2024-02-16T08:09:37.1214657+07:00 0HN1EHDV3F4PP:00000001 [INF] Executing ObjectResult, writing value of type '"System.Int32"'. (8a1b66c8)
2024-02-16T08:09:37.1258331+07:00 0HN1EHDV3F4PL:00000005 [INF] Route matched with "{area = \"Admin\", action = \"GetListCorNhanSu\", controller = \"Hoso\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListCorNhanSu()" on controller "NiTiErp.Areas.Admin.Controllers.HosoController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:09:37.1308357+07:00 0HN1EHDV3F4PR:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Name], [p].[Address], [p].[PhoneNumber1], [p].[PhoneNumber2], [p].[TaxNumber], [p].[Email], [p].[WebName], [p].[Image], [p].[ImageLogo], [p].[CorporationServiceId], [p].[DateCreated], [p].[DateModified], [p].[UserIdCreated], [p].[UserIdModified], [p].[Active], [p].[Stt], [p].[ParentId]
FROM [Corporations] AS [p]
WHERE [p].[Active] = 1
ORDER BY [p].[DateCreated] DESC" (0723d8ff)
2024-02-16T08:09:37.1358845+07:00 0HN1EHDV3F4PP:00000001 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.EmailThemController.GetEmailCount (NiTiErp)" in 115.5412ms (afa2e885)
2024-02-16T08:09:37.1453826+07:00 0HN1EHDV3F4PR:00000001 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.CorporationController.GetAllCorporations (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 30.9898ms. (50a9e262)
2024-02-16T08:09:37.1497023+07:00 0HN1EHDV3F4PP:00000001 [INF] Request finished in 173.6568ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:09:37.1528840+07:00 0HN1EHDV3F4PO:00000001 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.AppUserLoginController.GetUserName (NiTiErp)" in 145.0144ms (afa2e885)
2024-02-16T08:09:37.7027621+07:00 0HN1EHDV3F4PR:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[NiTiErp.Application.ViewModels.Corporation.CorporationViewModel, NiTiErp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2024-02-16T08:09:37.7480569+07:00 0HN1EHDV3F4PL:00000005 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:09:37.7556498+07:00 0HN1EHDV3F4PL:00000005 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.HosoController.GetListCorNhanSu (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:09:37.7607529+07:00 0HN1EHDV3F4PO:00000001 [INF] Request finished in 742.6812ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:09:37.7622833+07:00 0HN1EHDV3F4PR:00000001 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.CorporationController.GetAllCorporations (NiTiErp)" in 673.921ms (afa2e885)
2024-02-16T08:09:37.7670859+07:00 0HN1EHDV3F4PQ:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/user/GetAllPagingKhuVucCor?corporationId=&keyword=&page=1&pageSize=10   (ca22a1cb)
2024-02-16T08:09:37.7695740+07:00 0HN1EHDV3F4PS:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2024-02-16T08:09:37.7731563+07:00 0HN1EHDV3F4PR:00000001 [INF] Request finished in 776.1523ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:09:37.7772340+07:00 0HN1EHDV3F4PL:00000005 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.HosoController.GetListCorNhanSu (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 9.1765ms. (50a9e262)
2024-02-16T08:09:37.7817757+07:00 0HN1EHDV3F4PQ:00000001 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:09:37.7831464+07:00 0HN1EHDV3F4PL:00000005 [INF] Executing ObjectResult, writing value of type '"System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[NiTiErp.Application.Dapper.ViewModels.CorporationViewModel, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[NiTiErp.Application.Dapper.Implementation.CorporationService+<CorporationGetList>d__3, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2024-02-16T08:09:37.7862476+07:00 0HN1EHDV3F4PP:00000002 [INF] Request starting HTTP/1.1 POST http://localhost:57431/chat/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2024-02-16T08:09:37.7911002+07:00 0HN1EHDV3F4PO:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:57431/?h=29   (ca22a1cb)
2024-02-16T08:09:37.7949718+07:00 0HN1EHDV3F4PQ:00000001 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPagingKhuVucCor\", controller = \"User\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPagingKhuVucCor(System.String, System.String, Int32, Int32)" on controller "NiTiErp.Areas.Admin.Controllers.UserController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:09:37.8050522+07:00 0HN1EHDV3F4PP:00000002 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:09:37.8082051+07:00 0HN1EHDV3F4PQ:00000001 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:09:37.8888751+07:00 0HN1EHDV3F4PP:00000002 [INF] Request finished in 38.174ms 200 application/json (791a596a)
2024-02-16T08:09:37.8948361+07:00 0HN1EHDV3F4PL:00000005 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.HosoController.GetListCorNhanSu (NiTiErp)" in 691.8237ms (afa2e885)
2024-02-16T08:09:37.8966677+07:00 0HN1EHDV3F4PQ:00000001 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.UserController.GetAllPagingKhuVucCor (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:09:37.9063306+07:00 0HN1EHDV3F4PR:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:57431/chat?id=NKjOJDiMbbLDkP4LFlt-lQ   (ca22a1cb)
2024-02-16T08:09:37.9213098+07:00 0HN1EHDV3F4PL:00000005 [INF] Request finished in 928.0472ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:09:37.9356235+07:00 0HN1EHDV3F4PQ:00000001 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=NiTiErp.Data.EF " (9958f5bb)
2024-02-16T08:09:37.9379152+07:00 0HN1EHDV3F4PR:00000002 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:09:37.9482468+07:00 0HN1EHDV3F4PO:00000002 [INF] Resizing / with params w: 0, h: 29, autorotate: False, quality: 100, format: /, mode: max (8fcf9d15)
2024-02-16T08:09:37.9525005+07:00 0HN1EHDV3F4PL:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/hoso/GetListPhongKhuVuc?makv=CT   (ca22a1cb)
2024-02-16T08:09:37.9698096+07:00 0HN1EHDV3F4PQ:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppUsers] AS [x]
WHERE [x].[CorporationId] IS NULL" (0723d8ff)
2024-02-16T08:09:37.9870940+07:00 0HN1EHDV3F4PP:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/user/GetAllPagingKhuVucCor?corporationId=CT&keyword=&page=1&pageSize=10   (ca22a1cb)
2024-02-16T08:09:37.9888187+07:00 0HN1EHDV3F4PL:00000006 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:09:37.9932990+07:00 0HN1EHDV3F4PQ:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AppUsers] AS [x]
WHERE [x].[CorporationId] IS NULL
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2024-02-16T08:09:37.9948770+07:00 0HN1EHDV3F4PR:00000002 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2024-02-16T08:09:37.9987077+07:00 0HN1EHDV3F4PL:00000006 [INF] Route matched with "{area = \"Admin\", action = \"GetListPhongKhuVuc\", controller = \"Hoso\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListPhongKhuVuc(System.String)" on controller "NiTiErp.Areas.Admin.Controllers.HosoController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:09:38.0062044+07:00 0HN1EHDV3F4PQ:00000001 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.UserController.GetAllPagingKhuVucCor (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 95.2568ms. (50a9e262)
2024-02-16T08:09:38.0175123+07:00 0HN1EHDV3F4PL:00000006 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:09:38.0232796+07:00 0HN1EHDV3F4PQ:00000001 [INF] Executing ObjectResult, writing value of type '"NiTiErp.Utilities.Dtos.PagedResult`1[[NiTiErp.Application.ViewModels.System.AppUserViewModel, NiTiErp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2024-02-16T08:09:38.0319252+07:00 0HN1EHDV3F4PL:00000006 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.HosoController.GetListPhongKhuVuc (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:09:38.0384088+07:00 0HN1EHDV3F4PQ:00000001 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.UserController.GetAllPagingKhuVucCor (NiTiErp)" in 224.1426ms (afa2e885)
2024-02-16T08:09:38.0434316+07:00 0HN1EHDV3F4PO:00000002 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.UnauthorizedAccessException: Access to the path 'D:\nguyen\NiTiErp\popct-10poChau01\pctdien\NiTiErp\wwwroot' is denied.
   at System.IO.FileStream.ValidateFileHandle(SafeFileHandle fileHandle)
   at System.IO.FileStream.CreateFileOpenHandle(FileMode mode, FileShare share, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share)
   at System.IO.File.OpenRead(String path)
   at NiTiErp.Middleware.ImageResizerMiddleware.GetImageData(String imagePath, ResizeParams resizeParams, DateTime lastWriteTimeUtc) in D:\nguyen\NiTiErp\popct-10poChau01\pctdien\NiTiErp\Middleware\ImageResizerMiddleware.cs:line 129
   at NiTiErp.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in D:\nguyen\NiTiErp\popct-10poChau01\pctdien\NiTiErp\Middleware\ImageResizerMiddleware.cs:line 98
   at DevExpress.AspNetCore.Internal.BinaryStorageMiddleware.Invoke(HttpContext httpContext)
   at DevExpress.AspNetCore.Internal.ResourceManagerMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-02-16T08:09:38.0478037+07:00 0HN1EHDV3F4PL:00000006 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.HosoController.GetListPhongKhuVuc (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.3816ms. (50a9e262)
2024-02-16T08:09:38.0506563+07:00 0HN1EHDV3F4PQ:00000001 [INF] Request finished in 1056.5704ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:09:38.0607340+07:00 0HN1EHDV3F4PL:00000006 [INF] Executing ObjectResult, writing value of type '"System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[NiTiErp.Application.Dapper.ViewModels.PhongDanhMucViewModel, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[NiTiErp.Application.Dapper.Implementation.PhongDanhMucService+<PhongDanhMucGetList>d__3, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2024-02-16T08:09:38.0791623+07:00 0HN1EHDV3F4PP:00000003 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:09:38.0881923+07:00 0HN1EHDV3F4PO:00000002 [INF] Request finished in 284.8677ms 500 text/html; charset=utf-8 (791a596a)
2024-02-16T08:09:38.0899184+07:00 0HN1EHDV3F4PL:00000006 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.HosoController.GetListPhongKhuVuc (NiTiErp)" in 80.9933ms (afa2e885)
2024-02-16T08:09:38.0952903+07:00 0HN1EHDV3F4PP:00000003 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPagingKhuVucCor\", controller = \"User\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPagingKhuVucCor(System.String, System.String, Int32, Int32)" on controller "NiTiErp.Areas.Admin.Controllers.UserController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:09:38.1013674+07:00 0HN1EHDV3F4PP:00000003 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:09:38.1169610+07:00 0HN1EHDV3F4PL:00000006 [INF] Request finished in 161.913ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:09:38.1182472+07:00 0HN1EHDV3F4PP:00000003 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.UserController.GetAllPagingKhuVucCor (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:09:38.1215973+07:00 0HN1EHDV3F4PQ:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/hoso/GetListPhongKhuVuc?makv=CT   (ca22a1cb)
2024-02-16T08:09:38.1229807+07:00 0HN1EHDV3F4PP:00000003 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=NiTiErp.Data.EF " (9958f5bb)
2024-02-16T08:09:38.1386715+07:00 0HN1EHDV3F4PQ:00000002 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:09:38.1488767+07:00 0HN1EHDV3F4PP:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__corporationId_0='?' (Size = 50) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppUsers] AS [x]
WHERE [x].[CorporationId] = @__corporationId_0" (0723d8ff)
2024-02-16T08:09:38.1506338+07:00 0HN1EHDV3F4PQ:00000002 [INF] Route matched with "{area = \"Admin\", action = \"GetListPhongKhuVuc\", controller = \"Hoso\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListPhongKhuVuc(System.String)" on controller "NiTiErp.Areas.Admin.Controllers.HosoController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:09:38.1545692+07:00 0HN1EHDV3F4PQ:00000002 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:09:38.1600342+07:00 0HN1EHDV3F4PP:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__corporationId_0='?' (Size = 50) (DbType = AnsiString), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AppUsers] AS [x]
WHERE [x].[CorporationId] = @__corporationId_0
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2024-02-16T08:09:38.1640590+07:00 0HN1EHDV3F4PQ:00000002 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.HosoController.GetListPhongKhuVuc (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:09:38.1669317+07:00 0HN1EHDV3F4PP:00000003 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.UserController.GetAllPagingKhuVucCor (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 41.0126ms. (50a9e262)
2024-02-16T08:09:38.1702090+07:00 0HN1EHDV3F4PQ:00000002 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.HosoController.GetListPhongKhuVuc (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1.7349ms. (50a9e262)
2024-02-16T08:09:38.1733088+07:00 0HN1EHDV3F4PP:00000003 [INF] Executing ObjectResult, writing value of type '"NiTiErp.Utilities.Dtos.PagedResult`1[[NiTiErp.Application.ViewModels.System.AppUserViewModel, NiTiErp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2024-02-16T08:09:38.1760950+07:00 0HN1EHDV3F4PQ:00000002 [INF] Executing ObjectResult, writing value of type '"System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[NiTiErp.Application.Dapper.ViewModels.PhongDanhMucViewModel, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[NiTiErp.Application.Dapper.Implementation.PhongDanhMucService+<PhongDanhMucGetList>d__3, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2024-02-16T08:09:38.2073378+07:00 0HN1EHDV3F4PP:00000003 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.UserController.GetAllPagingKhuVucCor (NiTiErp)" in 79.402ms (afa2e885)
2024-02-16T08:09:38.2121481+07:00 0HN1EHDV3F4PP:00000003 [INF] Request finished in 268.2249ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:09:38.2201242+07:00 0HN1EHDV3F4PQ:00000002 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.HosoController.GetListPhongKhuVuc (NiTiErp)" in 66.5255ms (afa2e885)
2024-02-16T08:09:38.2237940+07:00 0HN1EHDV3F4PL:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/user/GetAllPagingKhuVucCor?corporationId=CT&keyword=&page=1&pageSize=10   (ca22a1cb)
2024-02-16T08:09:38.2274393+07:00 0HN1EHDV3F4PL:00000007 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:09:38.2367084+07:00 0HN1EHDV3F4PQ:00000002 [INF] Request finished in 110.63ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:09:38.2395781+07:00 0HN1EHDV3F4PL:00000007 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPagingKhuVucCor\", controller = \"User\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPagingKhuVucCor(System.String, System.String, Int32, Int32)" on controller "NiTiErp.Areas.Admin.Controllers.UserController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:09:38.2433375+07:00 0HN1EHDV3F4PL:00000007 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:09:38.2472163+07:00 0HN1EHDV3F4PL:00000007 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.UserController.GetAllPagingKhuVucCor (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:09:38.2510532+07:00 0HN1EHDV3F4PL:00000007 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=NiTiErp.Data.EF " (9958f5bb)
2024-02-16T08:09:38.2556309+07:00 0HN1EHDV3F4PL:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__corporationId_0='?' (Size = 50) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppUsers] AS [x]
WHERE [x].[CorporationId] = @__corporationId_0" (0723d8ff)
2024-02-16T08:09:38.2602483+07:00 0HN1EHDV3F4PL:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=["@__corporationId_0='?' (Size = 50) (DbType = AnsiString), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AppUsers] AS [x]
WHERE [x].[CorporationId] = @__corporationId_0
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2024-02-16T08:09:38.2631063+07:00 0HN1EHDV3F4PL:00000007 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.UserController.GetAllPagingKhuVucCor (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 13.1521ms. (50a9e262)
2024-02-16T08:09:38.2659212+07:00 0HN1EHDV3F4PL:00000007 [INF] Executing ObjectResult, writing value of type '"NiTiErp.Utilities.Dtos.PagedResult`1[[NiTiErp.Application.ViewModels.System.AppUserViewModel, NiTiErp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2024-02-16T08:09:38.2688151+07:00 0HN1EHDV3F4PL:00000007 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.UserController.GetAllPagingKhuVucCor (NiTiErp)" in 26.561ms (afa2e885)
2024-02-16T08:09:38.2721578+07:00 0HN1EHDV3F4PL:00000007 [INF] Request finished in 48.3536ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:15:28.6199035+07:00 0HN1EHDV3F4PS:00000001 [INF] Request finished in 351595.474ms 101  (791a596a)
2024-02-16T08:15:28.6290459+07:00 0HN1EHDV3F4PR:00000002 [INF] Request finished in 350709.7325ms 101  (791a596a)
2024-02-16T08:15:41.7630512+07:00 0HN1EHDV3F4PT:00000001 [INF] Request starting HTTP/1.1 POST http://127.0.0.1:45846/iisintegration  0 (ca22a1cb)
2024-02-16T08:15:41.7717598+07:00 0HN1EHDV3F4PT:00000001 [INF] Request finished in 29.7042ms 202  (791a596a)
2024-02-16T08:23:15.3299335+07:00 0HN1EHNCLQQ91:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:57431/   (ca22a1cb)
2024-02-16T08:23:15.3273207+07:00 0HN1EHNCLQQ90:00000001 [INF] Request starting HTTP/1.1 DEBUG http://localhost:57431/  0 (ca22a1cb)
2024-02-16T08:23:15.3717713+07:00 0HN1EHNCLQQ90:00000001 [INF] Request finished in 52.1803ms 200  (791a596a)
2024-02-16T08:23:15.4388529+07:00 0HN1EHNCLQQ91:00000001 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:23:18.3235882+07:00 0HN1EHNCLQQ91:00000001 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "NiTiErp.Areas.Admin.Controllers.LoginController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:23:18.3651128+07:00 0HN1EHNCLQQ91:00000001 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.LoginController.Index (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:23:18.3985092+07:00 0HN1EHNCLQQ91:00000001 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.LoginController.Index (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 5.6181ms. (50a9e262)
2024-02-16T08:23:18.4730749+07:00 0HN1EHNCLQQ91:00000001 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2024-02-16T08:23:18.6911412+07:00 0HN1EHNCLQQ91:00000001 [INF] Executed ViewResult - view "Index" executed in 271.2154ms. (f66409e9)
2024-02-16T08:23:18.7295864+07:00 0HN1EHNCLQQ91:00000001 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.LoginController.Index (NiTiErp)" in 373.114ms (afa2e885)
2024-02-16T08:23:19.5038138+07:00 0HN1EHNCLQQ91:00000001 [INF] Request finished in 4188.6432ms 200 text/html; charset=utf-8 (791a596a)
2024-02-16T08:24:08.9896519+07:00 0HN1EHNCLQQ90:00000002 [INF] Request starting HTTP/1.1 POST http://localhost:57431/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 29 (ca22a1cb)
2024-02-16T08:24:08.9927157+07:00 0HN1EHNCLQQ90:00000002 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:24:09.0371624+07:00 0HN1EHNCLQQ90:00000002 [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authen(NiTiErp.Models.AccountViewModels.LoginViewModel)" on controller "NiTiErp.Areas.Admin.Controllers.LoginController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:24:09.1040664+07:00 0HN1EHNCLQQ90:00000002 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.LoginController.Authen (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:24:09.1159612+07:00 0HN1EHNCLQQ90:00000002 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=NiTiErp.Data.EF " (9958f5bb)
2024-02-16T08:24:09.1872572+07:00 0HN1EHNCLQQ90:00000002 [INF] Executed DbCommand ("18"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[CorporationId], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[HoSoNhanVienId], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserCreated], [u].[UserModified], [u].[UserName]
FROM [AppUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2024-02-16T08:24:09.4017654+07:00 0HN1EHNCLQQ90:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AppUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2024-02-16T08:24:09.4693988+07:00 0HN1EHNCLQQ90:00000002 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2024-02-16T08:24:09.5021534+07:00 0HN1EHNCLQQ90:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CorporationId], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AppRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2024-02-16T08:24:09.5352705+07:00 0HN1EHNCLQQ90:00000002 [INF] Executed DbCommand ("4"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AppRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2024-02-16T08:24:09.5447313+07:00 0HN1EHNCLQQ90:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2024-02-16T08:24:09.5573519+07:00 0HN1EHNCLQQ90:00000002 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2024-02-16T08:24:09.5628966+07:00 0HN1EHNCLQQ90:00000002 [INF] User logged in. (fdce0db4)
2024-02-16T08:24:09.6522185+07:00 0HN1EHNCLQQ90:00000002 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.LoginController.Authen (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 545.1944ms. (50a9e262)
2024-02-16T08:24:09.6633547+07:00 0HN1EHNCLQQ90:00000002 [INF] Executing ObjectResult, writing value of type '"NiTiErp.Utilities.Dtos.GenericResult"'. (8a1b66c8)
2024-02-16T08:24:09.7210180+07:00 0HN1EHNCLQQ90:00000002 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.LoginController.Authen (NiTiErp)" in 680.5696ms (afa2e885)
2024-02-16T08:24:09.7415998+07:00 0HN1EHNCLQQ90:00000002 [INF] Request finished in 751.9509ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:24:09.7733556+07:00 0HN1EHNCLQQ90:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:57431/Admin/Home/Index   (ca22a1cb)
2024-02-16T08:24:09.7821531+07:00 0HN1EHNCLQQ91:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/AppUserLogin/CountUserLogin?userNameId=cthoang&statuscontent=InLoginsss   (ca22a1cb)
2024-02-16T08:24:09.7840245+07:00 0HN1EHNCLQQ90:00000003 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:24:09.7904977+07:00 0HN1EHNCLQQ90:00000003 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "NiTiErp.Areas.Admin.Controllers.HomeController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:24:09.7936282+07:00 0HN1EHNCLQQ91:00000002 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:24:09.8044211+07:00 0HN1EHNCLQQ91:00000002 [INF] Route matched with "{area = \"Admin\", action = \"CountUserLogin\", controller = \"AppUserLogin\"}". Executing controller action with signature "Void CountUserLogin(System.String, System.String)" on controller "NiTiErp.Areas.Admin.Controllers.AppUserLoginController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:24:09.8225332+07:00 0HN1EHNCLQQ91:00000002 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:24:09.8256721+07:00 0HN1EHNCLQQ90:00000003 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:24:09.8298331+07:00 0HN1EHNCLQQ90:00000003 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.HomeController.Index (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:24:09.8366137+07:00 0HN1EHNCLQQ91:00000002 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.AppUserLoginController.CountUserLogin (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:24:09.8392473+07:00 0HN1EHNCLQQ90:00000003 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.HomeController.Index (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 3.9252ms. (50a9e262)
2024-02-16T08:24:09.8507255+07:00 0HN1EHNCLQQ90:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2024-02-16T08:24:09.8533332+07:00 0HN1EHNCLQQ91:00000002 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.AppUserLoginController.CountUserLogin (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.EmptyResult" in 14.0601ms. (50a9e262)
2024-02-16T08:24:09.8570562+07:00 0HN1EHNCLQQ91:00000002 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.AppUserLoginController.CountUserLogin (NiTiErp)" in 49.1032ms (afa2e885)
2024-02-16T08:24:09.8616827+07:00 0HN1EHNCLQQ91:00000002 [INF] Request finished in 80.523ms 200  (791a596a)
2024-02-16T08:24:10.2593849+07:00 0HN1EHNCLQQ90:00000003 [INF] Executed ViewResult - view "Index" executed in 415.7272ms. (f66409e9)
2024-02-16T08:24:10.2680983+07:00 0HN1EHNCLQQ90:00000003 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.HomeController.Index (NiTiErp)" in 474.8149ms (afa2e885)
2024-02-16T08:24:10.4537306+07:00 0HN1EHNCLQQ90:00000003 [INF] Request finished in 677.1556ms 200 text/html; charset=utf-8 (791a596a)
2024-02-16T08:24:10.7110112+07:00 0HN1EHNCLQQ91:00000003 [INF] Request starting HTTP/1.1 POST http://localhost:57431/chatuser/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2024-02-16T08:24:10.7228165+07:00 0HN1EHNCLQQ90:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:57431/Admin/appuserlogin/GetUserName?username=cthoang   (ca22a1cb)
2024-02-16T08:24:10.7266964+07:00 0HN1EHNCLQQ92:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:57431/Admin/emailthem/GetEmailCount?nguoinhan=cthoang   (ca22a1cb)
2024-02-16T08:24:10.7324475+07:00 0HN1EHNCLQQ91:00000003 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:24:10.7391807+07:00 0HN1EHNCLQQ93:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/hoso/GetListCorNhanSu   (ca22a1cb)
2024-02-16T08:24:10.7438527+07:00 0HN1EHNCLQQ92:00000001 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:24:10.7484268+07:00 0HN1EHNCLQQ90:00000004 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:24:10.7569524+07:00 0HN1EHNCLQQ94:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:57431/Admin/Home/TKSLNhanVien?corporationId=CT&phongId=&chucvuId=&trinhdoId=   (ca22a1cb)
2024-02-16T08:24:10.7637841+07:00 0HN1EHNCLQQ92:00000001 [INF] Route matched with "{area = \"Admin\", action = \"GetEmailCount\", controller = \"EmailThem\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetEmailCount(System.String)" on controller "NiTiErp.Areas.Admin.Controllers.EmailThemController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:24:10.7727219+07:00 0HN1EHNCLQQ90:00000004 [INF] Route matched with "{area = \"Admin\", action = \"GetUserName\", controller = \"AppUserLogin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetUserName(System.String)" on controller "NiTiErp.Areas.Admin.Controllers.AppUserLoginController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:24:10.7748119+07:00 0HN1EHNCLQQ92:00000001 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:24:10.7819676+07:00 0HN1EHNCLQQ90:00000004 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:24:10.8087332+07:00 0HN1EHNCLQQ94:00000001 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:24:10.8104752+07:00 0HN1EHNCLQQ92:00000001 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.EmailThemController.GetEmailCount (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:24:10.8147281+07:00 0HN1EHNCLQQ90:00000004 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.AppUserLoginController.GetUserName (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:24:10.8303882+07:00 0HN1EHNCLQQ95:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:57431/Admin/Home/TKSLChucVu?corporationId=CT&phongId=&chucvuId=&trinhdoId=   (ca22a1cb)
2024-02-16T08:24:10.8415849+07:00 0HN1EHNCLQQ93:00000001 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:24:10.8529012+07:00 0HN1EHNCLQQ94:00000001 [INF] Route matched with "{area = \"Admin\", action = \"TKSLNhanVien\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TKSLNhanVien(System.String, System.String, System.String, System.String)" on controller "NiTiErp.Areas.Admin.Controllers.HomeController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:24:10.8561550+07:00 0HN1EHNCLQQ95:00000001 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:24:10.8619620+07:00 0HN1EHNCLQQ90:00000004 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.AppUserLoginController.GetUserName (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 36.4874ms. (50a9e262)
2024-02-16T08:24:10.8638543+07:00 0HN1EHNCLQQ94:00000001 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:24:10.8723408+07:00 0HN1EHNCLQQ93:00000001 [INF] Route matched with "{area = \"Admin\", action = \"GetListCorNhanSu\", controller = \"Hoso\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListCorNhanSu()" on controller "NiTiErp.Areas.Admin.Controllers.HosoController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:24:10.8751816+07:00 0HN1EHNCLQQ90:00000004 [INF] Executing ObjectResult, writing value of type '"System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[NiTiErp.Utilities.Dtos.PagedResult`1[[NiTiErp.Application.Dapper.ViewModels.AppUserLoginViewModel, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], NiTiErp.Utilities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[NiTiErp.Application.Dapper.Implementation.AppUserLoginService+<GetAllAppUserPaging>d__2, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2024-02-16T08:24:10.8824855+07:00 0HN1EHNCLQQ94:00000001 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.HomeController.TKSLNhanVien (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:24:10.8875036+07:00 0HN1EHNCLQQ92:00000001 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.EmailThemController.GetEmailCount (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 66.291ms. (50a9e262)
2024-02-16T08:24:10.8998790+07:00 0HN1EHNCLQQ95:00000001 [INF] Route matched with "{area = \"Admin\", action = \"TKSLChucVu\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TKSLChucVu(System.String, System.String, System.String, System.String)" on controller "NiTiErp.Areas.Admin.Controllers.HomeController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:24:10.9030628+07:00 0HN1EHNCLQQ92:00000001 [INF] Executing ObjectResult, writing value of type '"System.Int32"'. (8a1b66c8)
2024-02-16T08:24:10.9051652+07:00 0HN1EHNCLQQ95:00000001 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:24:10.9119947+07:00 0HN1EHNCLQQ93:00000001 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:24:10.9206787+07:00 0HN1EHNCLQQ92:00000001 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.EmailThemController.GetEmailCount (NiTiErp)" in 143.5679ms (afa2e885)
2024-02-16T08:24:10.9257626+07:00 0HN1EHNCLQQ95:00000001 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.HomeController.TKSLChucVu (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:24:10.9308384+07:00 0HN1EHNCLQQ92:00000001 [INF] Request finished in 218.9006ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:24:10.9356483+07:00 0HN1EHNCLQQ91:00000003 [INF] Request finished in 222.0498ms 200 application/json (791a596a)
2024-02-16T08:24:10.9390957+07:00 0HN1EHNCLQQ92:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:57431/chatuser?id=4J7qxt0JRV2T-NBh2ijGTw   (ca22a1cb)
2024-02-16T08:24:10.9456523+07:00 0HN1EHNCLQQ91:00000004 [INF] Request starting HTTP/1.1 POST http://localhost:57431/admin/user/GetUserName application/x-www-form-urlencoded; charset=UTF-8 16 (ca22a1cb)
2024-02-16T08:24:10.9597099+07:00 0HN1EHNCLQQ96:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:57431/Admin/Home/TKSLNhanVienTron?corporationId=%25&phongId=&chucvuId=&trinhdoId=   (ca22a1cb)
2024-02-16T08:24:10.9650022+07:00 0HN1EHNCLQQ93:00000001 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.HosoController.GetListCorNhanSu (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:24:10.9810275+07:00 0HN1EHNCLQQ91:00000004 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:24:10.9752643+07:00 0HN1EHNCLQQ92:00000002 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:24:10.9856648+07:00 0HN1EHNCLQQ93:00000001 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.HosoController.GetListCorNhanSu (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 15.5342ms. (50a9e262)
2024-02-16T08:24:10.9913860+07:00 0HN1EHNCLQQ93:00000001 [INF] Executing ObjectResult, writing value of type '"System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[NiTiErp.Application.Dapper.ViewModels.CorporationViewModel, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[NiTiErp.Application.Dapper.Implementation.CorporationService+<CorporationGetList>d__3, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2024-02-16T08:24:11.0072659+07:00 0HN1EHNCLQQ95:00000001 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.HomeController.TKSLChucVu (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 62.2506ms. (50a9e262)
2024-02-16T08:24:11.0122886+07:00 0HN1EHNCLQQ91:00000004 [INF] Route matched with "{area = \"Admin\", action = \"GetUserName\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserName(System.String)" on controller "NiTiErp.Areas.Admin.Controllers.UserController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:24:11.0204366+07:00 0HN1EHNCLQQ95:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[NiTiErp.Application.Dapper.ViewModels.RevenueReportViewModel, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2024-02-16T08:24:11.0279592+07:00 0HN1EHNCLQQ91:00000004 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:24:11.0360982+07:00 0HN1EHNCLQQ96:00000001 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:24:11.0472844+07:00 0HN1EHNCLQQ94:00000001 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.HomeController.TKSLNhanVien (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 84.3235ms. (50a9e262)
2024-02-16T08:24:11.0561113+07:00 0HN1EHNCLQQ91:00000004 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.UserController.GetUserName (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:24:11.0598324+07:00 0HN1EHNCLQQ95:00000001 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.HomeController.TKSLChucVu (NiTiErp)" in 145.5203ms (afa2e885)
2024-02-16T08:24:11.0658201+07:00 0HN1EHNCLQQ96:00000001 [INF] Route matched with "{area = \"Admin\", action = \"TKSLNhanVienTron\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TKSLNhanVienTron(System.String, System.String, System.String, System.String)" on controller "NiTiErp.Areas.Admin.Controllers.HomeController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:24:11.0714075+07:00 0HN1EHNCLQQ94:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[NiTiErp.Application.Dapper.ViewModels.RevenueReportViewModel, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2024-02-16T08:24:11.0749648+07:00 0HN1EHNCLQQ95:00000001 [INF] Request finished in 332.7822ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:24:11.0789700+07:00 0HN1EHNCLQQ91:00000004 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=NiTiErp.Data.EF " (9958f5bb)
2024-02-16T08:24:11.0907529+07:00 0HN1EHNCLQQ95:00000002 [INF] Request starting HTTP/1.1 POST http://localhost:57431/vanban/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2024-02-16T08:24:11.0939440+07:00 0HN1EHNCLQQ96:00000001 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:24:11.1033764+07:00 0HN1EHNCLQQ91:00000004 [INF] Executed DbCommand ("8"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[CorporationId], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[HoSoNhanVienId], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserCreated], [u].[UserModified], [u].[UserName]
FROM [AppUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2024-02-16T08:24:11.1069167+07:00 0HN1EHNCLQQ95:00000002 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:24:11.1285636+07:00 0HN1EHNCLQQ96:00000001 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.HomeController.TKSLNhanVienTron (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:24:11.1382293+07:00 0HN1EHNCLQQ95:00000002 [INF] Request finished in 34.8239ms 200 application/json (791a596a)
2024-02-16T08:24:11.1506836+07:00 0HN1EHNCLQQ95:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:57431/Admin/Home/TKChucVuCot?corporationId=%25&phongId=&chucvuId=&trinhdoId=   (ca22a1cb)
2024-02-16T08:24:11.1577018+07:00 0HN1EHNCLQQ94:00000001 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.HomeController.TKSLNhanVien (NiTiErp)" in 218.8616ms (afa2e885)
2024-02-16T08:24:11.1743988+07:00 0HN1EHNCLQQ95:00000003 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:24:11.1837396+07:00 0HN1EHNCLQQ96:00000001 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.HomeController.TKSLNhanVienTron (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 21.9038ms. (50a9e262)
2024-02-16T08:24:11.1929637+07:00 0HN1EHNCLQQ91:00000004 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.UserController.GetUserName (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 119.7455ms. (50a9e262)
2024-02-16T08:24:11.1978351+07:00 0HN1EHNCLQQ96:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[NiTiErp.Application.Dapper.ViewModels.RevenueReportViewModel, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2024-02-16T08:24:11.2075358+07:00 0HN1EHNCLQQ96:00000001 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.HomeController.TKSLNhanVienTron (NiTiErp)" in 132.1921ms (afa2e885)
2024-02-16T08:24:11.2179598+07:00 0HN1EHNCLQQ91:00000004 [INF] Executing ObjectResult, writing value of type '"NiTiErp.Application.ViewModels.System.AppUserViewModel"'. (8a1b66c8)
2024-02-16T08:24:11.2296992+07:00 0HN1EHNCLQQ95:00000003 [INF] Route matched with "{area = \"Admin\", action = \"TKChucVuCot\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TKChucVuCot(System.String, System.String, System.String, System.String)" on controller "NiTiErp.Areas.Admin.Controllers.HomeController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:24:11.2542909+07:00 0HN1EHNCLQQ96:00000001 [INF] Request finished in 272.5084ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:24:11.2565778+07:00 0HN1EHNCLQQ95:00000003 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:24:11.2957968+07:00 0HN1EHNCLQQ91:00000004 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.UserController.GetUserName (NiTiErp)" in 227.4696ms (afa2e885)
2024-02-16T08:24:11.2973118+07:00 0HN1EHNCLQQ95:00000003 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.HomeController.TKChucVuCot (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:24:11.3016387+07:00 0HN1EHNCLQQ93:00000001 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.HosoController.GetListCorNhanSu (NiTiErp)" in 416.1817ms (afa2e885)
2024-02-16T08:24:11.3134236+07:00 0HN1EHNCLQQ91:00000004 [INF] Request finished in 362.7272ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:24:11.3248380+07:00 0HN1EHNCLQQ94:00000001 [INF] Request finished in 430.5172ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:24:11.3325611+07:00 0HN1EHNCLQQ95:00000003 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.HomeController.TKChucVuCot (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 15.458ms. (50a9e262)
2024-02-16T08:24:11.3688144+07:00 0HN1EHNCLQQ90:00000004 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.AppUserLoginController.GetUserName (NiTiErp)" in 569.9041ms (afa2e885)
2024-02-16T08:24:11.3647880+07:00 0HN1EHNCLQQ92:00000002 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2024-02-16T08:24:11.3706433+07:00 0HN1EHNCLQQ95:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[NiTiErp.Application.Dapper.ViewModels.RevenueReportViewModel, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2024-02-16T08:24:11.3765015+07:00 0HN1EHNCLQQ96:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/vbdthem/GetCountVBDenChoDuyet?corporationId=CT   (ca22a1cb)
2024-02-16T08:24:11.3872691+07:00 0HN1EHNCLQQ95:00000003 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.HomeController.TKChucVuCot (NiTiErp)" in 143.6921ms (afa2e885)
2024-02-16T08:24:11.3896083+07:00 0HN1EHNCLQQ90:00000004 [INF] Request finished in 681.8296ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:24:11.3966672+07:00 0HN1EHNCLQQ97:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/vbdthem/GetCountVBDenChuaPhatHanh?corporationId=CT   (ca22a1cb)
2024-02-16T08:24:11.4157354+07:00 0HN1EHNCLQQ95:00000003 [INF] Request finished in 251.791ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:24:11.4244138+07:00 0HN1EHNCLQQ96:00000002 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:24:11.4289795+07:00 0HN1EHNCLQQ97:00000001 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:24:11.4340880+07:00 0HN1EHNCLQQ91:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/vbdthem/GetListVBDenTTXL?corporationId=CT&page=1&pageSize=10   (ca22a1cb)
2024-02-16T08:24:11.4376451+07:00 0HN1EHNCLQQ90:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/thongbao/GetListThongBaoPaging?corporationId=%25&phongId=&keyword=%25&page=1&pageSize=5&hosoId=   (ca22a1cb)
2024-02-16T08:24:11.4403360+07:00 0HN1EHNCLQQ95:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/vbdithem/GetCountVBDiDienTuKV?corporationId=CT   (ca22a1cb)
2024-02-16T08:24:11.4454592+07:00 0HN1EHNCLQQ91:00000005 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:24:11.4520232+07:00 0HN1EHNCLQQ90:00000005 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:24:11.4635616+07:00 0HN1EHNCLQQ95:00000004 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:24:11.4716691+07:00 0HN1EHNCLQQ90:00000005 [INF] Route matched with "{area = \"Admin\", action = \"GetListThongBaoPaging\", controller = \"ThongBao\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListThongBaoPaging(System.String, System.String, System.String, Int32, Int32, System.String)" on controller "NiTiErp.Areas.Admin.Controllers.ThongBaoController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:24:11.4741697+07:00 0HN1EHNCLQQ95:00000004 [INF] Route matched with "{area = \"Admin\", action = \"GetCountVBDiDienTuKV\", controller = \"VBDiThem\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetCountVBDiDienTuKV(System.String)" on controller "NiTiErp.Areas.Admin.Controllers.VBDiThemController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:24:11.4766270+07:00 0HN1EHNCLQQ97:00000001 [INF] Route matched with "{area = \"Admin\", action = \"GetCountVBDenChuaPhatHanh\", controller = \"VBDThem\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetCountVBDenChuaPhatHanh(System.String)" on controller "NiTiErp.Areas.Admin.Controllers.VBDThemController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:24:11.4797853+07:00 0HN1EHNCLQQ90:00000005 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:24:11.4829573+07:00 0HN1EHNCLQQ95:00000004 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:24:11.4853033+07:00 0HN1EHNCLQQ97:00000001 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:24:11.4952510+07:00 0HN1EHNCLQQ90:00000005 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.ThongBaoController.GetListThongBaoPaging (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:24:11.4982210+07:00 0HN1EHNCLQQ95:00000004 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.VBDiThemController.GetCountVBDiDienTuKV (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:24:11.5057262+07:00 0HN1EHNCLQQ97:00000001 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.VBDThemController.GetCountVBDenChuaPhatHanh (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:24:11.5133750+07:00 0HN1EHNCLQQ96:00000002 [INF] Route matched with "{area = \"Admin\", action = \"GetCountVBDenChoDuyet\", controller = \"VBDThem\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetCountVBDenChoDuyet(System.String)" on controller "NiTiErp.Areas.Admin.Controllers.VBDThemController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:24:11.5217720+07:00 0HN1EHNCLQQ91:00000005 [INF] Route matched with "{area = \"Admin\", action = \"GetListVBDenTTXL\", controller = \"VBDThem\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListVBDenTTXL(System.String, System.String, System.String, Int32, Int32)" on controller "NiTiErp.Areas.Admin.Controllers.VBDThemController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:24:11.5253990+07:00 0HN1EHNCLQQ90:00000005 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.ThongBaoController.GetListThongBaoPaging (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 16.241ms. (50a9e262)
2024-02-16T08:24:11.5454220+07:00 0HN1EHNCLQQ96:00000002 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:24:11.5672766+07:00 0HN1EHNCLQQ91:00000005 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:24:11.5708970+07:00 0HN1EHNCLQQ90:00000005 [INF] Executing ObjectResult, writing value of type '"System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[NiTiErp.Utilities.Dtos.PagedResult`1[[NiTiErp.Application.Dapper.ViewModels.ThongBaoViewModel, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], NiTiErp.Utilities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[NiTiErp.Application.Dapper.Implementation.ThongBaoService+<GetAllThongBaoPaging>d__3, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2024-02-16T08:24:11.5836427+07:00 0HN1EHNCLQQ96:00000002 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.VBDThemController.GetCountVBDenChoDuyet (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:24:11.5936155+07:00 0HN1EHNCLQQ95:00000004 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.VBDiThemController.GetCountVBDiDienTuKV (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 74.9013ms. (50a9e262)
2024-02-16T08:24:11.5953083+07:00 0HN1EHNCLQQ91:00000005 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.VBDThemController.GetListVBDenTTXL (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:24:11.6380032+07:00 0HN1EHNCLQQ95:00000004 [INF] Executing ObjectResult, writing value of type '"System.Int64"'. (8a1b66c8)
2024-02-16T08:24:11.6543258+07:00 0HN1EHNCLQQ93:00000001 [INF] Request finished in 596.1626ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:24:11.6567136+07:00 0HN1EHNCLQQ95:00000004 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.VBDiThemController.GetCountVBDiDienTuKV (NiTiErp)" in 163.876ms (afa2e885)
2024-02-16T08:24:11.6870837+07:00 0HN1EHNCLQQ93:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/vbdthem/GetCountVBDSoCXLUserName?corporationId=CT&userNameId=cthoang   (ca22a1cb)
2024-02-16T08:24:11.6948752+07:00 0HN1EHNCLQQ94:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:57431/vanban?id=mYgEUxnYdMP1gk4-l2wEEA   (ca22a1cb)
2024-02-16T08:24:11.7060081+07:00 0HN1EHNCLQQ95:00000004 [INF] Request finished in 258.2153ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:24:11.7217836+07:00 0HN1EHNCLQQ97:00000001 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.VBDThemController.GetCountVBDenChuaPhatHanh (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 189.212ms. (50a9e262)
2024-02-16T08:24:11.7246613+07:00 0HN1EHNCLQQ96:00000002 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.VBDThemController.GetCountVBDenChoDuyet (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 111.2697ms. (50a9e262)
2024-02-16T08:24:11.7265169+07:00 0HN1EHNCLQQ97:00000001 [INF] Executing ObjectResult, writing value of type '"System.Int64"'. (8a1b66c8)
2024-02-16T08:24:11.7341450+07:00 0HN1EHNCLQQ95:00000005 [INF] Request starting HTTP/1.1 POST http://localhost:57431/chat/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2024-02-16T08:24:11.7416728+07:00 0HN1EHNCLQQ97:00000001 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.VBDThemController.GetCountVBDenChuaPhatHanh (NiTiErp)" in 251.3371ms (afa2e885)
2024-02-16T08:24:11.7556345+07:00 0HN1EHNCLQQ96:00000002 [INF] Executing ObjectResult, writing value of type '"System.Int64"'. (8a1b66c8)
2024-02-16T08:24:11.7730703+07:00 0HN1EHNCLQQ97:00000001 [INF] Request finished in 370.5387ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:24:11.7874893+07:00 0HN1EHNCLQQ96:00000002 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.VBDThemController.GetCountVBDenChoDuyet (NiTiErp)" in 243.017ms (afa2e885)
2024-02-16T08:24:11.7897153+07:00 0HN1EHNCLQQ95:00000005 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:24:11.7978387+07:00 0HN1EHNCLQQ90:00000005 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.ThongBaoController.GetListThongBaoPaging (NiTiErp)" in 307.0433ms (afa2e885)
2024-02-16T08:24:11.8121385+07:00 0HN1EHNCLQQ95:00000005 [INF] Request finished in 69.0307ms 200 application/json (791a596a)
2024-02-16T08:24:11.8136381+07:00 0HN1EHNCLQQ97:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:57431/?h=29   (ca22a1cb)
2024-02-16T08:24:11.8171449+07:00 0HN1EHNCLQQ96:00000002 [INF] Request finished in 418.7042ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:24:11.8391098+07:00 0HN1EHNCLQQ91:00000005 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.VBDThemController.GetListVBDenTTXL (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 96.1449ms. (50a9e262)
2024-02-16T08:24:11.8477427+07:00 0HN1EHNCLQQ90:00000005 [INF] Request finished in 390.5176ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:24:11.8506913+07:00 0HN1EHNCLQQ97:00000002 [INF] Resizing / with params w: 0, h: 29, autorotate: False, quality: 100, format: /, mode: max (8fcf9d15)
2024-02-16T08:24:11.8580444+07:00 0HN1EHNCLQQ91:00000005 [INF] Executing ObjectResult, writing value of type '"System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[NiTiErp.Application.Dapper.ViewModels.VanBanDenViewModel, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[NiTiErp.Application.Dapper.Implementation.VanBanDenService+<VanBanDennGetList>d__4, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2024-02-16T08:24:11.8652417+07:00 0HN1EHNCLQQ93:00000002 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:24:11.8683012+07:00 0HN1EHNCLQQ94:00000002 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:24:11.9329899+07:00 0HN1EHNCLQQ93:00000002 [INF] Route matched with "{area = \"Admin\", action = \"GetCountVBDSoCXLUserName\", controller = \"VBDThem\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetCountVBDSoCXLUserName(System.String, System.String)" on controller "NiTiErp.Areas.Admin.Controllers.VBDThemController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:24:11.9435723+07:00 0HN1EHNCLQQ93:00000002 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:24:11.9725660+07:00 0HN1EHNCLQQ96:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:57431/chat?id=deOX3OKBzTD43GNKIS81Fw   (ca22a1cb)
2024-02-16T08:24:11.9783570+07:00 0HN1EHNCLQQ93:00000002 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.VBDThemController.GetCountVBDSoCXLUserName (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:24:12.0062427+07:00 0HN1EHNCLQQ96:00000003 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:24:12.3471801+07:00 0HN1EHNCLQQ94:00000002 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2024-02-16T08:24:12.3817055+07:00 0HN1EHNCLQQ95:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/user/index   (ca22a1cb)
2024-02-16T08:24:12.4069760+07:00 0HN1EHNCLQQ95:00000006 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:24:12.4287892+07:00 0HN1EHNCLQQ93:00000002 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.VBDThemController.GetCountVBDSoCXLUserName (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 358.1237ms. (50a9e262)
2024-02-16T08:24:12.4379045+07:00 0HN1EHNCLQQ96:00000003 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2024-02-16T08:24:12.4419476+07:00 0HN1EHNCLQQ95:00000006 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "NiTiErp.Areas.Admin.Controllers.UserController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:24:12.4507068+07:00 0HN1EHNCLQQ93:00000002 [INF] Executing ObjectResult, writing value of type '"System.Int64"'. (8a1b66c8)
2024-02-16T08:24:12.4591536+07:00 0HN1EHNCLQQ95:00000006 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:24:12.4670432+07:00 0HN1EHNCLQQ93:00000002 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.VBDThemController.GetCountVBDSoCXLUserName (NiTiErp)" in 517.801ms (afa2e885)
2024-02-16T08:24:12.5360204+07:00 0HN1EHNCLQQ95:00000006 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.UserController.Index (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:24:12.5387391+07:00 0HN1EHNCLQQ93:00000002 [INF] Request finished in 813.4766ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:24:12.5556692+07:00 0HN1EHNCLQQ97:00000002 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.UnauthorizedAccessException: Access to the path 'D:\nguyen\NiTiErp\popct-10poChau01\pctdien\NiTiErp\wwwroot' is denied.
   at System.IO.FileStream.ValidateFileHandle(SafeFileHandle fileHandle)
   at System.IO.FileStream.CreateFileOpenHandle(FileMode mode, FileShare share, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share)
   at System.IO.File.OpenRead(String path)
   at NiTiErp.Middleware.ImageResizerMiddleware.GetImageData(String imagePath, ResizeParams resizeParams, DateTime lastWriteTimeUtc) in D:\nguyen\NiTiErp\popct-10poChau01\pctdien\NiTiErp\Middleware\ImageResizerMiddleware.cs:line 129
   at NiTiErp.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in D:\nguyen\NiTiErp\popct-10poChau01\pctdien\NiTiErp\Middleware\ImageResizerMiddleware.cs:line 98
   at DevExpress.AspNetCore.Internal.BinaryStorageMiddleware.Invoke(HttpContext httpContext)
   at DevExpress.AspNetCore.Internal.ResourceManagerMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-02-16T08:24:12.5694957+07:00 0HN1EHNCLQQ95:00000006 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=NiTiErp.Data.EF " (9958f5bb)
2024-02-16T08:24:28.1022442+07:00 0HN1EHNCLQQ97:00000002 [INF] Request finished in 16307.9218ms 500 text/html; charset=utf-8 (791a596a)
2024-02-16T08:24:28.1450820+07:00 0HN1EHNCLQQ91:00000005 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.VBDThemController.GetListVBDenTTXL (NiTiErp)" in 16603.8736ms (afa2e885)
2024-02-16T08:24:28.1672549+07:00 0HN1EHNCLQQ91:00000005 [INF] Request finished in 16779.5325ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:24:28.4419289+07:00 0HN1EHNCLQQ95:00000006 [ERR] Failed executing DbCommand ("8,626"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[CanCreate], [p].[CanDelete], [p].[CanRead], [p].[CanUpdate], [p].[FunctionId], [p].[RoleId]
FROM [Functions] AS [f]
INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
WHERE ([r].[Name] IN (N'Admin') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1)" (627a98df)
System.NullReferenceException: Object reference not set to an instance of an object.
   at System.Data.SqlClient.TdsParserStateObjectNative.IsPacketEmpty(Object readPacket)
   at System.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at System.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at System.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at System.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
2024-02-16T08:24:47.6475222+07:00 0HN1EHNCLQQ90:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/user/index   (ca22a1cb)
2024-02-16T08:24:47.6523367+07:00 0HN1EHNCLQQ90:00000006 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:24:47.6569471+07:00 0HN1EHNCLQQ90:00000006 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "NiTiErp.Areas.Admin.Controllers.UserController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:24:47.6596133+07:00 0HN1EHNCLQQ90:00000006 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:24:47.6623482+07:00 0HN1EHNCLQQ90:00000006 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.UserController.Index (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:24:47.6669522+07:00 0HN1EHNCLQQ90:00000006 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=NiTiErp.Data.EF " (9958f5bb)
2024-02-16T08:24:51.2331914+07:00 0HN1EHNCLQQ90:00000006 [INF] Executed DbCommand ("21"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2024-02-16T08:24:52.5881823+07:00 0HN1EHNCLQQ90:00000006 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:24:52.5923187+07:00 0HN1EHNCLQQ90:00000006 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.UserController.Index (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 4927.1068ms. (50a9e262)
2024-02-16T08:24:52.6008906+07:00 0HN1EHNCLQQ90:00000006 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2024-02-16T08:24:54.5424715+07:00 0HN1EHNCLQQ90:00000006 [INF] Executed DbCommand ("12"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2024-02-16T08:24:55.4092564+07:00 0HN1EHNCLQQ90:00000006 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:24:58.6173973+07:00 0HN1EHNCLQQ90:00000006 [INF] Executed DbCommand ("4"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[CanCreate], [p].[CanDelete], [p].[CanRead], [p].[CanUpdate], [p].[FunctionId], [p].[RoleId]
FROM [Functions] AS [f]
INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
WHERE ([r].[Name] IN (N'Admin') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1)" (0723d8ff)
2024-02-16T08:25:13.8143032+07:00 0HN1EHNCLQQ95:00000006 [ERR] An exception occurred in the database while iterating the results of a query for context type '"NiTiErp.Data.EF.AppDbContext"'."
""System.InvalidOperationException: A second operation started on this context before a previous operation completed. Any instance members are not guaranteed to be thread safe.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)" (64e2593c)
System.InvalidOperationException: A second operation started on this context before a previous operation completed. Any instance members are not guaranteed to be thread safe.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
2024-02-16T08:25:20.1711997+07:00 0HN1EHNCLQQ90:00000006 [INF] Executed DbCommand ("36"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2024-02-16T08:25:33.2673196+07:00 0HN1EHNCLQQ90:00000006 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:25:52.9883693+07:00 0HN1EHNCLQQ90:00000006 [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[CanCreate], [p].[CanDelete], [p].[CanRead], [p].[CanUpdate], [p].[FunctionId], [p].[RoleId]
FROM [Functions] AS [f]
INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
WHERE ([r].[Name] IN (N'Admin') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1)" (0723d8ff)
2024-02-16T08:26:03.7152295+07:00 0HN1EHNCLQQ95:00000006 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.UserController.Index (NiTiErp)" in 111270.1948ms (afa2e885)
2024-02-16T08:26:03.8269467+07:00 0HN1EHNCLQQ90:00000006 [INF] Executed DbCommand ("19"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2024-02-16T08:26:04.7085886+07:00 0HN1EHNCLQQ90:00000006 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:26:05.5293957+07:00 0HN1EHNCLQQ90:00000006 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2024-02-16T08:26:06.1958905+07:00 0HN1EHNCLQQ90:00000006 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:26:06.3523057+07:00 0HN1EHNCLQQ90:00000006 [INF] Executed ViewResult - view "Index" executed in 73755.3813ms. (f66409e9)
2024-02-16T08:26:06.3568468+07:00 0HN1EHNCLQQ90:00000006 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.UserController.Index (NiTiErp)" in 78695.534ms (afa2e885)
2024-02-16T08:26:06.3779411+07:00 0HN1EHNCLQQ90:00000006 [INF] Request finished in 78731.4573ms 200 text/html; charset=utf-8 (791a596a)
2024-02-16T08:26:06.4334404+07:00 0HN1EHNCLQQ95:00000006 [ERR] Failed executing DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (627a98df)
System.InvalidOperationException: BeginExecuteReader requires an open and available Connection. The connection's current state is open.
   at System.Data.SqlClient.SqlConnection.GetOpenTdsConnection(String method)
   at System.Data.SqlClient.SqlConnection.ValidateConnectionForExecute(String method, SqlCommand command)
   at System.Data.SqlClient.SqlCommand.ValidateCommand(Boolean async, String method)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.BeginExecuteReader(CommandBehavior behavior, AsyncCallback callback, Object stateObject)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncImpl[TArg1](Func`4 beginMethod, Func`2 endFunction, Action`1 endAction, TArg1 arg1, Object state, TaskCreationOptions creationOptions)
   at System.Threading.Tasks.TaskFactory`1.FromAsync[TArg1](Func`4 beginMethod, Func`2 endMethod, TArg1 arg1, Object state)
   at System.Data.SqlClient.SqlCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
2024-02-16T08:26:06.4557805+07:00 0HN1EHNCLQQ96:00000003 [INF] Request finished in 114503.014ms 101  (791a596a)
2024-02-16T08:26:06.4631755+07:00 0HN1EHNCLQQ94:00000002 [INF] Request finished in 115121.7829ms 101  (791a596a)
2024-02-16T08:26:06.4646028+07:00 0HN1EHNCLQQ92:00000002 [INF] Request finished in 115518.5832ms 101  (791a596a)
2024-02-16T08:26:06.4919266+07:00 0HN1EHNCLQQ95:00000006 [ERR] An exception occurred while calculating the database error page content. Skipping display of the database error page. (3f43c218)
System.InvalidOperationException: BeginExecuteReader requires an open and available Connection. The connection's current state is open.
   at System.Data.SqlClient.SqlConnection.GetOpenTdsConnection(String method)
   at System.Data.SqlClient.SqlConnection.ValidateConnectionForExecute(String method, SqlCommand command)
   at System.Data.SqlClient.SqlCommand.ValidateCommand(Boolean async, String method)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.BeginExecuteReader(CommandBehavior behavior, AsyncCallback callback, Object stateObject)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncImpl[TArg1](Func`4 beginMethod, Func`2 endFunction, Action`1 endAction, TArg1 arg1, Object state, TaskCreationOptions creationOptions)
   at System.Threading.Tasks.TaskFactory`1.FromAsync[TArg1](Func`4 beginMethod, Func`2 endMethod, TArg1 arg1, Object state)
   at System.Data.SqlClient.SqlCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.ExistsAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetAppliedMigrationsAsync(DatabaseFacade databaseFacade, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetPendingMigrationsAsync(DatabaseFacade databaseFacade, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
2024-02-16T08:26:06.5135507+07:00 0HN1EHNCLQQ95:00000006 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.InvalidOperationException: A second operation started on this context before a previous operation completed. Any instance members are not guaranteed to be thread safe.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
   at NiTiErp.Authorization.BaseResourceAuthorizationHandler.HandleRequirementAsync(AuthorizationHandlerContext context, OperationAuthorizationRequirement requirement, String resource) in D:\nguyen\NiTiErp\popct-10poChau01\pctdien\NiTiErp\Authorization\BaseResourceAuthorizationHandler.cs:line 27
   at Microsoft.AspNetCore.Authorization.AuthorizationHandler`2.HandleAsync(AuthorizationHandlerContext context)
   at Microsoft.AspNetCore.Authorization.DefaultAuthorizationService.AuthorizeAsync(ClaimsPrincipal user, Object resource, IEnumerable`1 requirements)
   at NiTiErp.Areas.Admin.Controllers.UserController.Index() in D:\nguyen\NiTiErp\popct-10poChau01\pctdien\NiTiErp\Areas\Admin\Controllers\UserController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at NiTiErp.Startup.<>c.<<Configure>b__5_1>d.MoveNext() in D:\nguyen\NiTiErp\popct-10poChau01\pctdien\NiTiErp\Startup.cs:line 494
--- End of stack trace from previous location where exception was thrown ---
   at WebMarkupMin.AspNetCore2.WebMarkupMinMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at NiTiErp.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in D:\nguyen\NiTiErp\popct-10poChau01\pctdien\NiTiErp\Middleware\ImageResizerMiddleware.cs:line 70
   at DevExpress.AspNetCore.Internal.BinaryStorageMiddleware.Invoke(HttpContext httpContext)
   at DevExpress.AspNetCore.Internal.ResourceManagerMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-02-16T08:26:06.6292624+07:00 0HN1EHNCLQQ95:00000006 [INF] Request finished in 114292.0861ms 500 text/html; charset=utf-8 (791a596a)
2024-02-16T08:26:06.6964642+07:00 0HN1EHNCLQQ90:00000007 [INF] Request starting HTTP/1.1 POST http://localhost:57431/chatuser/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2024-02-16T08:26:06.7040282+07:00 0HN1EHNCLQQ98:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:57431/Admin/appuserlogin/GetUserName?username=cthoang   (ca22a1cb)
2024-02-16T08:26:06.7079426+07:00 0HN1EHNCLQQ90:00000007 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:26:06.7147766+07:00 0HN1EHNCLQQ98:00000001 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:26:06.7178974+07:00 0HN1EHNCLQQ99:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:57431/Admin/emailthem/GetEmailCount?nguoinhan=cthoang   (ca22a1cb)
2024-02-16T08:26:06.7233584+07:00 0HN1EHNCLQQ9A:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/hoso/GetListCorNhanSu   (ca22a1cb)
2024-02-16T08:26:06.7273956+07:00 0HN1EHNCLQQ98:00000001 [INF] Route matched with "{area = \"Admin\", action = \"GetUserName\", controller = \"AppUserLogin\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetUserName(System.String)" on controller "NiTiErp.Areas.Admin.Controllers.AppUserLoginController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:26:06.7309016+07:00 0HN1EHNCLQQ90:00000007 [INF] Request finished in 17.7748ms 200 application/json (791a596a)
2024-02-16T08:26:06.7337940+07:00 0HN1EHNCLQQ99:00000001 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:26:06.7385922+07:00 0HN1EHNCLQQ9A:00000001 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:26:06.7412117+07:00 0HN1EHNCLQQ98:00000001 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:26:06.7442480+07:00 0HN1EHNCLQQ9B:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/corporation/GetAllCorporations   (ca22a1cb)
2024-02-16T08:26:06.7490038+07:00 0HN1EHNCLQQ99:00000001 [INF] Route matched with "{area = \"Admin\", action = \"GetEmailCount\", controller = \"EmailThem\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetEmailCount(System.String)" on controller "NiTiErp.Areas.Admin.Controllers.EmailThemController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:26:06.7520847+07:00 0HN1EHNCLQQ9C:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:57431/chatuser?id=Dl8zI0NQ7ne_zPLKBC2AXw   (ca22a1cb)
2024-02-16T08:26:06.7565360+07:00 0HN1EHNCLQQ99:00000001 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:26:06.7586990+07:00 0HN1EHNCLQQ9B:00000001 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:26:06.7645174+07:00 0HN1EHNCLQQ99:00000001 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.EmailThemController.GetEmailCount (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:26:06.7663885+07:00 0HN1EHNCLQQ9C:00000001 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:26:06.7733513+07:00 0HN1EHNCLQQ9A:00000001 [INF] Route matched with "{area = \"Admin\", action = \"GetListCorNhanSu\", controller = \"Hoso\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListCorNhanSu()" on controller "NiTiErp.Areas.Admin.Controllers.HosoController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:26:06.7770510+07:00 0HN1EHNCLQQ98:00000001 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.AppUserLoginController.GetUserName (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:26:06.7812816+07:00 0HN1EHNCLQQ9B:00000001 [INF] Route matched with "{area = \"Admin\", action = \"GetAllCorporations\", controller = \"Corporation\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllCorporations()" on controller "NiTiErp.Areas.Admin.Controllers.CorporationController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:26:06.7830227+07:00 0HN1EHNCLQQ9A:00000001 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:26:06.7956052+07:00 0HN1EHNCLQQ9B:00000001 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:26:06.8005157+07:00 0HN1EHNCLQQ9A:00000001 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.HosoController.GetListCorNhanSu (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:26:06.8051125+07:00 0HN1EHNCLQQ99:00000001 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.EmailThemController.GetEmailCount (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 32.2277ms. (50a9e262)
2024-02-16T08:26:06.8124366+07:00 0HN1EHNCLQQ9B:00000001 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.CorporationController.GetAllCorporations (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:26:06.8167975+07:00 0HN1EHNCLQQ99:00000001 [INF] Executing ObjectResult, writing value of type '"System.Int32"'. (8a1b66c8)
2024-02-16T08:26:06.8195198+07:00 0HN1EHNCLQQ9A:00000001 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.HosoController.GetListCorNhanSu (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.3571ms. (50a9e262)
2024-02-16T08:26:06.8236838+07:00 0HN1EHNCLQQ98:00000001 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.AppUserLoginController.GetUserName (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1.6892ms. (50a9e262)
2024-02-16T08:26:06.8344867+07:00 0HN1EHNCLQQ99:00000001 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.EmailThemController.GetEmailCount (NiTiErp)" in 69.4114ms (afa2e885)
2024-02-16T08:26:06.8398330+07:00 0HN1EHNCLQQ9A:00000001 [INF] Executing ObjectResult, writing value of type '"System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[NiTiErp.Application.Dapper.ViewModels.CorporationViewModel, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[NiTiErp.Application.Dapper.Implementation.CorporationService+<CorporationGetList>d__3, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2024-02-16T08:26:06.8450797+07:00 0HN1EHNCLQQ99:00000001 [INF] Request finished in 124.5826ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:26:06.8491348+07:00 0HN1EHNCLQQ9B:00000001 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=NiTiErp.Data.EF " (9958f5bb)
2024-02-16T08:26:06.8541969+07:00 0HN1EHNCLQQ98:00000001 [INF] Executing ObjectResult, writing value of type '"System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[NiTiErp.Utilities.Dtos.PagedResult`1[[NiTiErp.Application.Dapper.ViewModels.AppUserLoginViewModel, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], NiTiErp.Utilities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[NiTiErp.Application.Dapper.Implementation.AppUserLoginService+<GetAllAppUserPaging>d__2, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2024-02-16T08:26:06.8557211+07:00 0HN1EHNCLQQ90:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/user/GetAllPagingKhuVucCor?corporationId=&keyword=&page=1&pageSize=10   (ca22a1cb)
2024-02-16T08:26:06.8592790+07:00 0HN1EHNCLQQ90:00000008 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:26:06.8737140+07:00 0HN1EHNCLQQ90:00000008 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPagingKhuVucCor\", controller = \"User\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPagingKhuVucCor(System.String, System.String, Int32, Int32)" on controller "NiTiErp.Areas.Admin.Controllers.UserController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:26:06.8791587+07:00 0HN1EHNCLQQ9A:00000001 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.HosoController.GetListCorNhanSu (NiTiErp)" in 99.1404ms (afa2e885)
2024-02-16T08:26:07.1959989+07:00 0HN1EHNCLQQ98:00000001 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.AppUserLoginController.GetUserName (NiTiErp)" in 145.1812ms (afa2e885)
2024-02-16T08:26:07.2858520+07:00 0HN1EHNCLQQ90:00000008 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:26:07.2992640+07:00 0HN1EHNCLQQ9C:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2024-02-16T08:26:07.3084098+07:00 0HN1EHNCLQQ9A:00000001 [INF] Request finished in 483.8374ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:26:07.3146413+07:00 0HN1EHNCLQQ99:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/user/GetAllPagingKhuVucCor?corporationId=CT&keyword=&page=1&pageSize=10   (ca22a1cb)
2024-02-16T08:26:07.3185924+07:00 0HN1EHNCLQQ9A:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/hoso/GetListPhongKhuVuc?makv=CT   (ca22a1cb)
2024-02-16T08:26:07.3351023+07:00 0HN1EHNCLQQ98:00000001 [INF] Request finished in 502.6231ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:26:07.3401879+07:00 0HN1EHNCLQQ99:00000002 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:26:07.3470292+07:00 0HN1EHNCLQQ9A:00000002 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:26:07.3526643+07:00 0HN1EHNCLQQ99:00000002 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPagingKhuVucCor\", controller = \"User\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPagingKhuVucCor(System.String, System.String, Int32, Int32)" on controller "NiTiErp.Areas.Admin.Controllers.UserController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:26:07.3606525+07:00 0HN1EHNCLQQ98:00000002 [INF] Request starting HTTP/1.1 POST http://localhost:57431/chat/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2024-02-16T08:26:07.3651044+07:00 0HN1EHNCLQQ99:00000002 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:26:07.3687138+07:00 0HN1EHNCLQQ9A:00000002 [INF] Route matched with "{area = \"Admin\", action = \"GetListPhongKhuVuc\", controller = \"Hoso\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListPhongKhuVuc(System.String)" on controller "NiTiErp.Areas.Admin.Controllers.HosoController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:26:07.3722689+07:00 0HN1EHNCLQQ99:00000002 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.UserController.GetAllPagingKhuVucCor (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:26:07.3831774+07:00 0HN1EHNCLQQ9A:00000002 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:26:07.3860164+07:00 0HN1EHNCLQQ99:00000002 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=NiTiErp.Data.EF " (9958f5bb)
2024-02-16T08:26:07.3907210+07:00 0HN1EHNCLQQ9A:00000002 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.HosoController.GetListPhongKhuVuc (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:26:07.3962391+07:00 0HN1EHNCLQQ98:00000002 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:26:07.4007240+07:00 0HN1EHNCLQQ90:00000008 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.UserController.GetAllPagingKhuVucCor (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:26:07.4097429+07:00 0HN1EHNCLQQ98:00000002 [INF] Request finished in 62.6031ms 200 application/json (791a596a)
2024-02-16T08:26:07.4181762+07:00 0HN1EHNCLQQ90:00000008 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=NiTiErp.Data.EF " (9958f5bb)
2024-02-16T08:26:07.4352849+07:00 0HN1EHNCLQQ98:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:57431/chat?id=9yDzweQhTnGBKcKTEDRRTQ   (ca22a1cb)
2024-02-16T08:26:07.4380648+07:00 0HN1EHNCLQQ9A:00000002 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.HosoController.GetListPhongKhuVuc (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 16.1352ms. (50a9e262)
2024-02-16T08:26:07.4422918+07:00 0HN1EHNCLQQ99:00000002 [INF] Executed DbCommand ("22"ms) [Parameters=["@__corporationId_0='?' (Size = 50) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppUsers] AS [x]
WHERE [x].[CorporationId] = @__corporationId_0" (0723d8ff)
2024-02-16T08:26:07.4524473+07:00 0HN1EHNCLQQ9A:00000002 [INF] Executing ObjectResult, writing value of type '"System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[NiTiErp.Application.Dapper.ViewModels.PhongDanhMucViewModel, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[NiTiErp.Application.Dapper.Implementation.PhongDanhMucService+<PhongDanhMucGetList>d__3, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2024-02-16T08:26:07.4552102+07:00 0HN1EHNCLQQ98:00000003 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:26:07.4791194+07:00 0HN1EHNCLQQ9D:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:57431/?h=29   (ca22a1cb)
2024-02-16T08:26:07.4932126+07:00 0HN1EHNCLQQ90:00000008 [INF] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppUsers] AS [x]
WHERE [x].[CorporationId] IS NULL" (0723d8ff)
2024-02-16T08:26:07.5004118+07:00 0HN1EHNCLQQ9D:00000001 [INF] Resizing / with params w: 0, h: 29, autorotate: False, quality: 100, format: /, mode: max (8fcf9d15)
2024-02-16T08:26:07.5049617+07:00 0HN1EHNCLQQ98:00000003 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2024-02-16T08:26:07.5274904+07:00 0HN1EHNCLQQ99:00000002 [WRN] Query: '"(from AppUser x in DbSet<AppUser> where bool [x].CorporationId.Equals(__corporationId_0) select new ..."' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results. (32148ccc)
2024-02-16T08:26:07.5748875+07:00 0HN1EHNCLQQ9D:00000001 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.UnauthorizedAccessException: Access to the path 'D:\nguyen\NiTiErp\popct-10poChau01\pctdien\NiTiErp\wwwroot' is denied.
   at System.IO.FileStream.ValidateFileHandle(SafeFileHandle fileHandle)
   at System.IO.FileStream.CreateFileOpenHandle(FileMode mode, FileShare share, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share)
   at System.IO.File.OpenRead(String path)
   at NiTiErp.Middleware.ImageResizerMiddleware.GetImageData(String imagePath, ResizeParams resizeParams, DateTime lastWriteTimeUtc) in D:\nguyen\NiTiErp\popct-10poChau01\pctdien\NiTiErp\Middleware\ImageResizerMiddleware.cs:line 129
   at NiTiErp.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in D:\nguyen\NiTiErp\popct-10poChau01\pctdien\NiTiErp\Middleware\ImageResizerMiddleware.cs:line 98
   at DevExpress.AspNetCore.Internal.BinaryStorageMiddleware.Invoke(HttpContext httpContext)
   at DevExpress.AspNetCore.Internal.ResourceManagerMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-02-16T08:26:07.5798381+07:00 0HN1EHNCLQQ90:00000008 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AppUsers] AS [x]
WHERE [x].[CorporationId] IS NULL
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2024-02-16T08:26:07.5813638+07:00 0HN1EHNCLQQ9B:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Name], [p].[Address], [p].[PhoneNumber1], [p].[PhoneNumber2], [p].[TaxNumber], [p].[Email], [p].[WebName], [p].[Image], [p].[ImageLogo], [p].[CorporationServiceId], [p].[DateCreated], [p].[DateModified], [p].[UserIdCreated], [p].[UserIdModified], [p].[Active], [p].[Stt], [p].[ParentId]
FROM [Corporations] AS [p]
WHERE [p].[Active] = 1
ORDER BY [p].[DateCreated] DESC" (0723d8ff)
2024-02-16T08:26:07.5835073+07:00 0HN1EHNCLQQ99:00000002 [INF] Executed DbCommand ("10"ms) [Parameters=["@__corporationId_0='?' (Size = 50) (DbType = AnsiString), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AppUsers] AS [x]
WHERE [x].[CorporationId] = @__corporationId_0
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2024-02-16T08:26:07.6049612+07:00 0HN1EHNCLQQ90:00000008 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.UserController.GetAllPagingKhuVucCor (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 187.951ms. (50a9e262)
2024-02-16T08:26:07.6157297+07:00 0HN1EHNCLQQ9B:00000001 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.CorporationController.GetAllCorporations (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 785.8243ms. (50a9e262)
2024-02-16T08:26:07.6176547+07:00 0HN1EHNCLQQ9A:00000002 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.HosoController.GetListPhongKhuVuc (NiTiErp)" in 227.3457ms (afa2e885)
2024-02-16T08:26:07.6271091+07:00 0HN1EHNCLQQ9B:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[NiTiErp.Application.ViewModels.Corporation.CorporationViewModel, NiTiErp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2024-02-16T08:26:07.6299172+07:00 0HN1EHNCLQQ9A:00000002 [INF] Request finished in 314.3567ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:26:07.6330113+07:00 0HN1EHNCLQQ99:00000002 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.UserController.GetAllPagingKhuVucCor (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 219.0114ms. (50a9e262)
2024-02-16T08:26:07.6365670+07:00 0HN1EHNCLQQ9D:00000001 [INF] Request finished in 166.321ms 500 text/html; charset=utf-8 (791a596a)
2024-02-16T08:26:07.6397385+07:00 0HN1EHNCLQQ9A:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/hoso/GetListPhongKhuVuc?makv=CT   (ca22a1cb)
2024-02-16T08:26:07.6644150+07:00 0HN1EHNCLQQ99:00000002 [INF] Executing ObjectResult, writing value of type '"NiTiErp.Utilities.Dtos.PagedResult`1[[NiTiErp.Application.ViewModels.System.AppUserViewModel, NiTiErp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2024-02-16T08:26:07.6678214+07:00 0HN1EHNCLQQ9B:00000001 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.CorporationController.GetAllCorporations (NiTiErp)" in 870.4545ms (afa2e885)
2024-02-16T08:26:07.6747100+07:00 0HN1EHNCLQQ9A:00000003 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:26:07.6899523+07:00 0HN1EHNCLQQ9B:00000001 [INF] Request finished in 933.2678ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:26:07.6935104+07:00 0HN1EHNCLQQ9A:00000003 [INF] Route matched with "{area = \"Admin\", action = \"GetListPhongKhuVuc\", controller = \"Hoso\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListPhongKhuVuc(System.String)" on controller "NiTiErp.Areas.Admin.Controllers.HosoController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:26:07.6959686+07:00 0HN1EHNCLQQ99:00000002 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.UserController.GetAllPagingKhuVucCor (NiTiErp)" in 324.9464ms (afa2e885)
2024-02-16T08:26:07.6972821+07:00 0HN1EHNCLQQ9A:00000003 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:26:07.7009646+07:00 0HN1EHNCLQQ99:00000002 [INF] Request finished in 403.4085ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:26:07.7046184+07:00 0HN1EHNCLQQ9A:00000003 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.HosoController.GetListPhongKhuVuc (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:26:07.7100459+07:00 0HN1EHNCLQQ90:00000008 [INF] Executing ObjectResult, writing value of type '"NiTiErp.Utilities.Dtos.PagedResult`1[[NiTiErp.Application.ViewModels.System.AppUserViewModel, NiTiErp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2024-02-16T08:26:07.7170634+07:00 0HN1EHNCLQQ90:00000008 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.UserController.GetAllPagingKhuVucCor (NiTiErp)" in 835.2651ms (afa2e885)
2024-02-16T08:26:07.7324448+07:00 0HN1EHNCLQQ9A:00000003 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.HosoController.GetListPhongKhuVuc (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 10.6538ms. (50a9e262)
2024-02-16T08:26:07.7388609+07:00 0HN1EHNCLQQ9B:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:57431/admin/user/GetAllPagingKhuVucCor?corporationId=CT&keyword=&page=1&pageSize=10   (ca22a1cb)
2024-02-16T08:26:07.7478832+07:00 0HN1EHNCLQQ9A:00000003 [INF] Executing ObjectResult, writing value of type '"System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[NiTiErp.Application.Dapper.ViewModels.PhongDanhMucViewModel, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[NiTiErp.Application.Dapper.Implementation.PhongDanhMucService+<PhongDanhMucGetList>d__3, NiTiErp.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2024-02-16T08:26:07.7580633+07:00 0HN1EHNCLQQ90:00000008 [INF] Request finished in 986.3521ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:26:07.7618981+07:00 0HN1EHNCLQQ9B:00000002 [WRN] Error unprotecting the session cookie. (65f95c31)
System.Security.Cryptography.CryptographicException: The payload was invalid.
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-02-16T08:26:07.7717083+07:00 0HN1EHNCLQQ9B:00000002 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPagingKhuVucCor\", controller = \"User\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetAllPagingKhuVucCor(System.String, System.String, Int32, Int32)" on controller "NiTiErp.Areas.Admin.Controllers.UserController" ("NiTiErp"). (122b2fdf)
2024-02-16T08:26:07.7730167+07:00 0HN1EHNCLQQ9A:00000003 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.HosoController.GetListPhongKhuVuc (NiTiErp)" in 74.8099ms (afa2e885)
2024-02-16T08:26:07.7757728+07:00 0HN1EHNCLQQ9B:00000002 [INF] Authorization was successful. (0d575a54)
2024-02-16T08:26:07.7993597+07:00 0HN1EHNCLQQ9B:00000002 [INF] Executing action method "NiTiErp.Areas.Admin.Controllers.UserController.GetAllPagingKhuVucCor (NiTiErp)" - Validation state: Valid (dad538d7)
2024-02-16T08:26:07.8064092+07:00 0HN1EHNCLQQ9A:00000003 [INF] Request finished in 146.7422ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T08:26:07.8130823+07:00 0HN1EHNCLQQ9B:00000002 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=NiTiErp.Data.EF " (9958f5bb)
2024-02-16T08:26:07.8384009+07:00 0HN1EHNCLQQ9B:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__corporationId_0='?' (Size = 50) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppUsers] AS [x]
WHERE [x].[CorporationId] = @__corporationId_0" (0723d8ff)
2024-02-16T08:26:07.8625858+07:00 0HN1EHNCLQQ9B:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__corporationId_0='?' (Size = 50) (DbType = AnsiString), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AppUsers] AS [x]
WHERE [x].[CorporationId] = @__corporationId_0
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2024-02-16T08:26:07.8673038+07:00 0HN1EHNCLQQ9B:00000002 [INF] Executed action method "NiTiErp.Areas.Admin.Controllers.UserController.GetAllPagingKhuVucCor (NiTiErp)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 63.3282ms. (50a9e262)
2024-02-16T08:26:07.8754903+07:00 0HN1EHNCLQQ9B:00000002 [INF] Executing ObjectResult, writing value of type '"NiTiErp.Utilities.Dtos.PagedResult`1[[NiTiErp.Application.ViewModels.System.AppUserViewModel, NiTiErp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2024-02-16T08:26:07.8833635+07:00 0HN1EHNCLQQ9B:00000002 [INF] Executed action "NiTiErp.Areas.Admin.Controllers.UserController.GetAllPagingKhuVucCor (NiTiErp)" in 103.9393ms (afa2e885)
2024-02-16T08:26:07.8982307+07:00 0HN1EHNCLQQ9B:00000002 [INF] Request finished in 170.507ms 200 application/json; charset=utf-8 (791a596a)
2024-02-16T09:11:01.1779414+07:00 0HN1EHNCLQQ98:00000003 [INF] Request finished in 2693733.881ms 101  (791a596a)
2024-02-16T09:11:01.1862176+07:00 0HN1EHNCLQQ9C:00000001 [INF] Request finished in 2694413.2499ms 101  (791a596a)
